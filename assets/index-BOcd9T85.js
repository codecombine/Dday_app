(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function aE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function rS(){if(g_)return ml;g_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=n,ml.jsxs=n,ml}var y_;function sS(){return y_||(y_=1,Sd.exports=rS()),Sd.exports}var tt=sS(),bd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function aS(){if(__)return St;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,J={};function K(C,Z,it){this.props=C,this.context=Z,this.refs=J,this.updater=it||H}K.prototype.isReactComponent={},K.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},K.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ot(){}ot.prototype=K.prototype;function rt(C,Z,it){this.props=C,this.context=Z,this.refs=J,this.updater=it||H}var ct=rt.prototype=new ot;ct.constructor=rt,j(ct,K.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function V(C,Z,it,W,dt,wt){return it=wt.ref,{$$typeof:r,type:C,key:Z,ref:it!==void 0?it:null,props:wt}}function S(C,Z){return V(C.type,Z,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return Z[it]})}var M=/\/+/g;function x(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):Z.toString(36)}function w(){}function Pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function se(C,Z,it,W,dt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var Et=!1;if(C===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(C.$$typeof){case r:case t:Et=!0;break;case A:return Et=C._init,se(Et(C._payload),Z,it,W,dt)}}if(Et)return dt=dt(C),Et=W===""?"."+x(C,0):W,Vt(dt)?(it="",Et!=null&&(it=Et.replace(M,"$&/")+"/"),se(dt,Z,it,"",function(Hn){return Hn})):dt!=null&&(R(dt)&&(dt=S(dt,it+(dt.key==null||C&&C.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Et)),Z.push(dt)),1;Et=0;var Ie=W===""?".":W+":";if(Vt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],wt=Ie+x(W,Zt),Et+=se(W,Z,it,wt,dt);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,wt=Ie+x(W,Zt++),Et+=se(W,Z,it,wt,dt);else if(wt==="object"){if(typeof C.then=="function")return se(Pe(C),Z,it,W,dt);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function G(C,Z,it){if(C==null)return C;var W=[],dt=0;return se(C,W,"","",function(wt){return Z.call(it,wt,dt++)}),W}function nt(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ht=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return St.Children={map:G,forEach:function(C,Z,it){G(C,function(){Z.apply(this,arguments)},it)},count:function(C){var Z=0;return G(C,function(){Z++}),Z},toArray:function(C){return G(C,function(Z){return Z})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=K,St.Fragment=n,St.Profiler=l,St.PureComponent=rt,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,Z,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=j({},C.props),dt=C.key,wt=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!Mt.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(W[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)W.children=it;else if(1<Et){for(var Ie=Array(Et),Zt=0;Zt<Et;Zt++)Ie[Zt]=arguments[Zt+2];W.children=Ie}return V(C.type,dt,void 0,void 0,wt,W)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},St.createElement=function(C,Z,it){var W,dt={},wt=null;if(Z!=null)for(W in Z.key!==void 0&&(wt=""+Z.key),Z)Mt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=Z[W]);var Et=arguments.length-2;if(Et===1)dt.children=it;else if(1<Et){for(var Ie=Array(Et),Zt=0;Zt<Et;Zt++)Ie[Zt]=arguments[Zt+2];dt.children=Ie}if(C&&C.defaultProps)for(W in Et=C.defaultProps,Et)dt[W]===void 0&&(dt[W]=Et[W]);return V(C,wt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:p,render:C}},St.isValidElement=R,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},St.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},St.startTransition=function(C){var Z=_t.T,it={};_t.T=it;try{var W=C(),dt=_t.S;dt!==null&&dt(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ht)}catch(wt){ht(wt)}finally{_t.T=Z}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(C){return _t.H.use(C)},St.useActionState=function(C,Z,it){return _t.H.useActionState(C,Z,it)},St.useCallback=function(C,Z){return _t.H.useCallback(C,Z)},St.useContext=function(C){return _t.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,Z){return _t.H.useDeferredValue(C,Z)},St.useEffect=function(C,Z,it){var W=_t.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(C,Z,it){return _t.H.useImperativeHandle(C,Z,it)},St.useInsertionEffect=function(C,Z){return _t.H.useInsertionEffect(C,Z)},St.useLayoutEffect=function(C,Z){return _t.H.useLayoutEffect(C,Z)},St.useMemo=function(C,Z){return _t.H.useMemo(C,Z)},St.useOptimistic=function(C,Z){return _t.H.useOptimistic(C,Z)},St.useReducer=function(C,Z,it){return _t.H.useReducer(C,Z,it)},St.useRef=function(C){return _t.H.useRef(C)},St.useState=function(C){return _t.H.useState(C)},St.useSyncExternalStore=function(C,Z,it){return _t.H.useSyncExternalStore(C,Z,it)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.1.1",St}var v_;function mm(){return v_||(v_=1,bd.exports=aS()),bd.exports}var pn=mm();const oS=aE(pn);var wd={exports:{}},pl={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function lS(){return E_||(E_=1,(function(r){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var zt=ht-1>>>1,C=G[zt];if(0<l(C,nt))G[zt]=nt,G[ht]=C,ht=zt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var zt=0,C=G.length,Z=C>>>1;zt<Z;){var it=2*(zt+1)-1,W=G[it],dt=it+1,wt=G[dt];if(0>l(W,ht))dt<C&&0>l(wt,W)?(G[zt]=wt,G[dt]=ht,zt=dt):(G[zt]=W,G[it]=ht,zt=it);else if(dt<C&&0>l(wt,ht))G[zt]=wt,G[dt]=ht,zt=dt;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],_=[],A=1,I=null,N=3,H=!1,j=!1,J=!1,K=!1,ot=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(G){for(var nt=n(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=G)s(_),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=n(_)}}function _t(G){if(J=!1,Vt(G),!j)if(n(g)!==null)j=!0,Mt||(Mt=!0,x());else{var nt=n(_);nt!==null&&se(_t,nt.startTime-G)}}var Mt=!1,V=-1,S=5,R=-1;function O(){return K?!0:!(r.unstable_now()-R<S)}function M(){if(K=!1,Mt){var G=r.unstable_now();R=G;var nt=!0;try{t:{j=!1,J&&(J=!1,rt(V),V=-1),H=!0;var ht=N;try{e:{for(Vt(G),I=n(g);I!==null&&!(I.expirationTime>G&&O());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,N=I.priorityLevel;var C=zt(I.expirationTime<=G);if(G=r.unstable_now(),typeof C=="function"){I.callback=C,Vt(G),nt=!0;break e}I===n(g)&&s(g),Vt(G)}else s(g);I=n(g)}if(I!==null)nt=!0;else{var Z=n(_);Z!==null&&se(_t,Z.startTime-G),nt=!1}}break t}finally{I=null,N=ht,H=!1}nt=void 0}}finally{nt?x():Mt=!1}}}var x;if(typeof ct=="function")x=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Pe=w.port2;w.port1.onmessage=M,x=function(){Pe.postMessage(null)}}else x=function(){ot(M,0)};function se(G,nt){V=ot(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ht=N;N=nt;try{return G()}finally{N=ht}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=N;N=G;try{return nt()}finally{N=ht}},r.unstable_scheduleCallback=function(G,nt,ht){var zt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ht+C,G={id:A++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:C,sortIndex:-1},ht>zt?(G.sortIndex=ht,t(_,G),n(g)===null&&G===n(_)&&(J?(rt(V),V=-1):J=!0,se(_t,ht-zt))):(G.sortIndex=C,t(g,G),j||H||(j=!0,Mt||(Mt=!0,x()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var nt=N;return function(){var ht=N;N=nt;try{return G.apply(this,arguments)}finally{N=ht}}}})(Id)),Id}var T_;function uS(){return T_||(T_=1,Rd.exports=lS()),Rd.exports}var Cd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function cS(){if(A_)return Qe;A_=1;var r=mm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:g,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},Qe.flushSync=function(g){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,I=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:N,fetchPriority:H}):A==="script"&&s.d.X(g,{crossOrigin:I,integrity:N,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Qe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=p(A,_.crossOrigin);s.d.L(g,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,_){return g(_)},Qe.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var S_;function hS(){if(S_)return Cd.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=cS(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function fS(){if(b_)return pl;b_=1;var r=uS(),t=mm(),n=hS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case K:return"Profiler";case J:return"StrictMode";case _t:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case Vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Z(e){return{current:e}}function it(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function W(e,i){C++,zt[C]=e.current,e.current=i}var dt=Z(null),wt=Z(null),Et=Z(null),Ie=Z(null);function Zt(e,i){switch(W(Et,i),W(wt,e),W(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Gy(i),e=Fy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(dt),W(dt,e)}function Hn(){it(dt),it(wt),it(Et)}function Wi(e){e.memoizedState!==null&&W(Ie,e);var i=dt.current,a=Fy(i,e.type);i!==a&&(W(wt,e),W(dt,a))}function mi(e){wt.current===e&&(it(dt),it(wt)),Ie.current===e&&(it(Ie),ul._currentValue=ht)}var Gr=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,so=r.unstable_shouldYield,Zl=r.unstable_requestPaint,yn=r.unstable_now,Ah=r.unstable_getCurrentPriorityLevel,ao=r.unstable_ImmediatePriority,js=r.unstable_UserBlockingPriority,Kr=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,oo=r.log,Wl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function an(e){if(typeof oo=="function"&&Wl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Ge=Math.clz32?Math.clz32:Yr,Jl=Math.log,bh=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(Jl(e)/bh|0)|0}var Xr=256,$r=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Mn(o):(v&=E,v!==0?h=Mn(v):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=o&~f,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=o&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Zr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var e=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),e}function co(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function pi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ho(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Ge(a),Y=1<<F;E[F]=0,b[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&Gn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Gn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function fo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ge(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function tu(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,de="__reactProps$"+ee,_n="__reactContainer$"+ee,mo="__reactEvents$"+ee,wh="__reactListeners$"+ee,er="__reactHandles$"+ee,eu="__reactResources$"+ee,Wr="__reactMarker$"+ee;function nr(e){delete e[Ee],delete e[de],delete e[mo],delete e[wh],delete e[er]}function yi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_n]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Xy(e);e!==null;){if(a=e[Ee])return a;e=Xy(e)}return i}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[Ee]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Qn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[eu];return i||(i=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Wr]=!0}var po=new Set,Qs={};function Pn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Qs[e]=i,e=0;e<i.length;e++)po.add(i[e])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},Jr={};function ru(e){return Gr.call(Jr,e)?!0:Gr.call(iu,e)?!1:nu.test(e)?Jr[e]=!0:(iu[e]=!0,!1)}function ir(e,i,a){if(ru(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ts,su;function vi(e){if(ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ts=i&&i[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+e+su}var Ks=!1;function Ys(e,i){if(!e||Ks)return"";Ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var F=`
`+b[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ks=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function go(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ys(e.type,!1);case 11:return Ys(e.type.render,!1);case 1:return Ys(e.type,!0);case 31:return vi("Activity");default:return""}}function Xs(e){try{var i="";do i+=go(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rh(e){var i=yo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $s(e){e._valueTracker||(e._valueTracker=Rh(e))}function _o(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=yo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ih=/[\n"\\]/g;function me(e){return e.replace(Ih,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?rr(e,v,We(i)):a!=null?rr(e,v,We(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function ns(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function rr(e,i,a){i==="number"&&es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function is(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||rs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function vo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&au(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&au(e,f,i[f])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function To(e){var i=Fn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&_o(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Yn=!1;function ou(e,i,a){if(Yn)return e(i,a);Yn=!0;try{var o=e(i);return o}finally{if(Yn=!1,(Ai!==null||Si!==null)&&(tc(),Ai&&(i=Ai,e=Si,Si=Ai=null,To(i),e)))for(i=0;i<e.length;i++)To(e[i])}}function ss(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(xn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Tn=!1}var Xn=null,sr=null,bi=null;function Ao(){if(bi)return bi;var e,i=sr,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return bi=h.slice(e,1<o?1-o:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function So(){return!1}function Ce(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:So,this.isPropagationStopped=So,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Ce(qt),os=A({},qt,{view:0,detail:0}),lu=Ce(os),Js,ta,Wn,ls=A({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Js=e.screenX-Wn.screenX,ta=e.screenY-Wn.screenY):ta=Js=0,Wn=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),An=Ce(ls),uu=A({},ls,{dataTransfer:0}),Nh=Ce(uu),us=A({},os,{relatedTarget:0}),ea=Ce(us),bo=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Ce(bo),cu=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=Ce(cu),Oh=A({},qt,{data:0}),wo=Ce(Oh),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function hs(){return Ro}var du=A({},os,{key:function(e){if(e.key){var i=cs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Ce(du),mu=A({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Ce(mu),wi=A({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),pu=Ce(wi),gu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Ce(gu),_u=A({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=Ce(_u),Je=A({},qt,{newState:0,oldState:0}),vu=Ce(Je),Eu=[9,13,27,32],Jn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,y=xn&&(!Jn||u&&8<u&&11>=u),T=" ",k=!1;function q(e,i){switch(e){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Te(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function xt(e,i){if(Pt)return e==="compositionend"||!Jn&&q(e,i)?(e=Ao(),bi=sr=Xn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ri(e,i,a,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,i=ac(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,ti=null;function Co(e){zy(e,0)}function Tu(e){var i=Qn(e);if(_o(i))return e}function ap(e,i){if(e==="change")return i}var op=!1;if(xn){var Vh;if(xn){var Mh="oninput"in document;if(!Mh){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Mh=typeof lp.oninput=="function"}Vh=Mh}else Vh=!1;op=Vh&&(!document.documentMode||9<document.documentMode)}function up(){ke&&(ke.detachEvent("onpropertychange",cp),ti=ke=null)}function cp(e){if(e.propertyName==="value"&&Tu(ti)){var i=[];Ri(i,ti,e,En(e)),ou(Co,i)}}function P0(e,i,a){e==="focusin"?(up(),ke=i,ti=a,ke.attachEvent("onpropertychange",cp)):e==="focusout"&&up()}function x0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ti)}function k0(e,i){if(e==="click")return Tu(i)}function U0(e,i){if(e==="input"||e==="change")return Tu(i)}function L0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:L0;function Do(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Gr.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,i){var a=hp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hp(a)}}function dp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=es(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=es(e.document)}return i}function Ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var z0=xn&&"documentMode"in document&&11>=document.documentMode,aa=null,xh=null,No=null,kh=!1;function pp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||aa==null||aa!==es(o)||(o=aa,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Do(No,o)||(No=o,o=ac(xh,"onSelect"),0<o.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=aa)))}function fs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var oa={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Uh={},gp={};xn&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ds(e){if(Uh[e])return Uh[e];if(!oa[e])return e;var i=oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in gp)return Uh[e]=i[a];return e}var yp=ds("animationend"),_p=ds("animationiteration"),vp=ds("animationstart"),B0=ds("transitionrun"),q0=ds("transitionstart"),j0=ds("transitioncancel"),Ep=ds("transitionend"),Tp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function kn(e,i){Tp.set(e,i),Pn(i,[e])}var Ap=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Ap.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Xs(i)},Ap.set(e,i),i)}return{value:e,source:i,stack:Xs(i)}}var bn=[],la=0,zh=0;function Au(){for(var e=la,i=zh=la=0;i<e;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var f=bn[i];if(bn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Sp(a,h,f)}}function Su(e,i,a,o){bn[la++]=e,bn[la++]=i,bn[la++]=a,bn[la++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bh(e,i,a,o){return Su(e,i,a,o),bu(e)}function ua(e,i){return Su(e,null,null,i),bu(e)}function Sp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function bu(e){if(50<el)throw el=0,Kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ca={};function H0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,a,o){return new H0(e,i,a,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=un(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")qh(e)&&(v=1);else if(typeof e=="string")v=FA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,a,i,h),e.elementType=R,e.lanes=f,e;case j:return ms(a.children,h,f,i);case J:v=8,h|=24;break;case K:return e=un(12,a,i,h|2),e.elementType=K,e.lanes=f,e;case _t:return e=un(13,a,i,h),e.elementType=_t,e.lanes=f,e;case Mt:return e=un(19,a,i,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case ct:v=10;break t;case rt:v=9;break t;case Vt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=un(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function ms(e,i,a,o){return e=un(7,e,o,i),e.lanes=a,e}function jh(e,i,a){return e=un(6,e,null,i),e.lanes=a,e}function Hh(e,i,a){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ha=[],fa=0,Ru=null,Iu=0,wn=[],Rn=0,ps=null,Ci=1,Di="";function gs(e,i){ha[fa++]=Iu,ha[fa++]=Ru,Ru=e,Iu=i}function wp(e,i,a){wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=ps,ps=e;var o=Ci;e=Di;var h=32-Ge(o)-1;o&=~(1<<h),a+=1;var f=32-Ge(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-Ge(i)+h|a<<h|o,Di=f+e}else Ci=1<<f|a<<h|o,Di=e}function Gh(e){e.return!==null&&(gs(e,1),wp(e,1,0))}function Fh(e){for(;e===Ru;)Ru=ha[--fa],ha[fa]=null,Iu=ha[--fa],ha[fa]=null;for(;e===ps;)ps=wn[--Rn],wn[Rn]=null,Di=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null}var tn=null,oe=null,Bt=!1,ys=null,ei=!1,Qh=Error(s(519));function _s(e){var i=Error(s(418,""));throw Mo(Sn(i,e)),Qh}function Rp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ee]=e,i[de]=o,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<il.length;a++)Ct(il[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),ns(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$s(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),is(i,o.value,o.defaultValue,o.children),$s(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Hy(i.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),o.onScroll!=null&&Ct("scroll",i),o.onScrollEnd!=null&&Ct("scrollend",i),o.onClick!=null&&(i.onclick=oc),i=!0):i=!1,i||_s(e)}function Ip(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:tn=tn.return}}function Oo(e){if(e!==tn)return!1;if(!Bt)return Ip(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ud(e.type,e.memoizedProps)),a=!a),a&&oe&&_s(e),Ip(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,Tr(e.type)?(e=dd,dd=null,oe=e):oe=i):oe=tn?Ln(e.stateNode.nextSibling):null;return!0}function Vo(){oe=tn=null,Bt=!1}function Cp(){var e=ys;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ys=null),e}function Mo(e){ys===null?ys=[e]:ys.push(e)}var Kh=Z(null),vs=null,Ni=null;function ar(e,i,a){W(Kh,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=Kh.current,it(Kh)}function Yh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Xh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Yh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Yh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Xh(i,e,a,o),i.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Dp(vs,e)}function Du(e,i){return vs===null&&Es(e),Dp(e,i)}function Dp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new G0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&F0(Q0,function(){e.controller.abort()})}var ko=null,Zh=0,da=0,ma=null;function K0(e,i){if(ko===null){var a=ko=[];Zh=0,da=td(),ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zh++,i.then(Np,Np),i}function Np(){if(--Zh===0&&ko!==null){ma!==null&&(ma.status="fulfilled");var e=ko;ko=null,da=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Y0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Op=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&K0(e,i),Op!==null&&Op(e,i)};var Ts=Z(null);function Wh(){var e=Ts.current;return e!==null?e:Wt.pooledCache}function Nu(e,i){i===null?W(Ts,Ts.current):W(Ts,i.pool)}function Vp(){var e=Wh();return e===null?null:{parent:Se._currentValue,pool:e}}var Uo=Error(s(460)),Mp=Error(s(474)),Ou=Error(s(542)),Jh={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vu(){}function xp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Vu,Vu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Up(e),e;default:if(typeof i.status=="string")i.then(Vu,Vu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Up(e),e}throw Lo=i,Uo}}var Lo=null;function kp(){if(Lo===null)throw Error(s(459));var e=Lo;return Lo=null,e}function Up(e){if(e===Uo||e===Ou)throw Error(s(483))}var or=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ur(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=bu(e),Sp(e,null,a),i}return Su(e,o,i,a),bu(e)}function zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,fo(e,a)}}function nf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var rf=!1;function Bo(){if(rf){var e=ma;if(e!==null)throw e}}function qo(e,i,a,o){rf=!1;var h=e.updateQueue;or=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=b))}if(f!==null){var Y=h.baseState;v=0,F=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===da&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,mt=E;z=i;var Xt=a;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Y=vt.call(Xt,Y,z);break t}Y=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,z=typeof vt=="function"?vt.call(Xt,Y,z):vt,z==null)break t;Y=A({},Y,z);break t;case 2:or=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=B,b=Y):F=F.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(b=Y),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),yr|=v,e.lanes=v,e.memoizedState=Y}}function Lp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function zp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lp(a[e],i)}var pa=Z(null),Mu=Z(0);function Bp(e,i){e=Li,W(Mu,e),W(pa,i),Li=e|i.baseLanes}function sf(){W(Mu,Li),W(pa,pa.current)}function af(){Li=Mu.current,it(pa),it(Mu)}var cr=0,bt=null,Kt=null,pe=null,Pu=!1,ga=!1,As=!1,xu=0,jo=0,ya=null,X0=0;function ce(){throw Error(s(321))}function of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function lf(e,i,a,o,h,f){return cr=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Sg:bg,As=!1,f=a(o,h),As=!1,ga&&(f=jp(i,a,o,h)),qp(e),f}function qp(e){G.H=qu;var i=Kt!==null&&Kt.next!==null;if(cr=0,pe=Kt=bt=null,Pu=!1,jo=0,ya=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Cu(e)&&(Ne=!0))}function jp(e,i,a,o){bt=e;var h=0;do{if(ga&&(ya=null),jo=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,pe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=nA,f=i(a,o)}while(ga);return f}function $0(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Ho(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),i}function uf(){var e=xu!==0;return xu=0,e}function cf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function hf(e){if(Pu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Pu=!1}cr=0,pe=Kt=bt=null,ga=!1,jo=xu=0,ya=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=pe===null?bt.memoizedState:pe.next;if(i!==null)pe=i,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?bt.memoizedState=pe=e:pe=pe.next=e}return pe}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var i=jo;return jo+=1,ya===null&&(ya=[]),e=xp(ya,e,i),i=bt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Sg:bg),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===ct)return Fe(e)}throw Error(s(438,String(e)))}function df(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ff(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function Uu(e){var i=ge();return mf(i,Kt,e)}function mf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,F=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(kt&Y)===Y:(cr&Y)===Y){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===da&&(F=!0);else if((cr&z)===z){L=L.next,z===da&&(F=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Y,v=f):b=b.next=Y,bt.lanes|=z,yr|=z;Y=L.action,As&&a(f,Y),f=L.hasEagerState?L.eagerState:a(f,Y)}else z={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,bt.lanes|=Y,yr|=Y;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!ln(f,e.memoizedState)&&(Ne=!0,F&&(a=ma,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);ln(f,i.memoizedState)||(Ne=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Hp(e,i,a){var o=bt,h=ge(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var E=Qp.bind(null,o,h,e);if(Go(2048,8,E,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,_a(9,Lu(),Fp.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));f||(cr&124)!==0||Gp(o,i,a)}return a}function Gp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=ff(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fp(e,i,a,o){i.value=a,i.getSnapshot=o,Kp(i)&&Yp(e)}function Qp(e,i,a){return a(function(){Kp(i)&&Yp(e)})}function Kp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function Yp(e){var i=ua(e,2);i!==null&&mn(i,e,2)}function gf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),As){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function Xp(e,i,a,o){return e.baseState=a,mf(e,Kt,typeof o=="function"?o:Vi)}function Z0(e,i,a,o,h){if(Bu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,$p(i,f)):(f.next=a.next,i.pending=a.next=f)}}function $p(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,v={};G.T=v;try{var E=a(h,o),b=G.S;b!==null&&b(v,E),Zp(e,i,E)}catch(L){yf(e,i,L)}finally{G.T=f}}else try{f=a(h,o),Zp(e,i,f)}catch(L){yf(e,i,L)}}function Zp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Wp(e,i,o)},function(o){return yf(e,i,o)}):Wp(e,i,a)}function Wp(e,i,a){i.status="fulfilled",i.value=a,Jp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,$p(e,a)))}function yf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Jp(i),i=i.next;while(i!==o)}e.action=null}function Jp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function tg(e,i){return i}function eg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Bt){if(oe){e:{for(var h=oe,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Ln(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:i},a.queue=o,a=Eg.bind(null,bt,o),o.dispatch=a,o=gf(!1),f=Af.bind(null,bt,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=Z0.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function ng(e){var i=ge();return ig(i,Kt,e)}function ig(e,i,a){if(i=mf(e,i,tg)[0],e=Uu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ho(i)}catch(v){throw v===Uo?Ou:v}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,_a(9,Lu(),W0.bind(null,h,a),null)),[o,f,e]}function W0(e,i){e.action=i}function rg(e){var i=ge(),a=Kt;if(a!==null)return ig(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function _a(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=ff(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Lu(){return{destroy:void 0,resource:void 0}}function sg(){return ge().memoizedState}function zu(e,i,a,o){var h=en();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=_a(1|i,Lu(),a,o)}function Go(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&of(o,Kt.memoizedState.deps)?h.memoizedState=_a(i,f,a,o):(bt.flags|=e,h.memoizedState=_a(1|i,f,a,o))}function ag(e,i){zu(8390656,8,e,i)}function og(e,i){Go(2048,8,e,i)}function lg(e,i){return Go(4,2,e,i)}function ug(e,i){return Go(4,4,e,i)}function cg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hg(e,i,a){a=a!=null?a.concat([e]):null,Go(4,4,cg.bind(null,i,e),a)}function _f(){}function fg(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&of(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function dg(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&of(i,o[1]))return o[0];if(o=e(),As){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function vf(e,i,a){return a===void 0||(cr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=gy(),bt.lanes|=e,yr|=e,a)}function mg(e,i,a,o){return ln(a,i)?a:pa.current!==null?(e=vf(e,a,o),ln(e,i)||(Ne=!0),e):(cr&42)===0?(Ne=!0,e.memoizedState=a):(e=gy(),bt.lanes|=e,yr|=e,i)}function pg(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,Af(e,!1,i,a);try{var b=h(),L=G.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=Y0(b,o);Fo(e,i,F,dn(e))}else Fo(e,i,o,dn(e))}catch(Y){Fo(e,i,{then:function(){},status:"rejected",reason:Y},dn())}finally{nt.p=f,G.T=v}}function J0(){}function Ef(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=gg(e).queue;pg(e,h,i,ht,a===null?J0:function(){return yg(e),a(o)})}function gg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yg(e){var i=gg(e).next.queue;Fo(e,i,{},dn())}function Tf(){return Fe(ul)}function _g(){return ge().memoizedState}function vg(){return ge().memoizedState}function tA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=lr(a);var o=ur(i,e,a);o!==null&&(mn(o,i,a),zo(o,i,a)),i={cache:$h()},e.payload=i;return}i=i.return}}function eA(e,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Tg(i,a):(a=Bh(e,i,a,o),a!==null&&(mn(a,e,o),Ag(a,i,o)))}function Eg(e,i,a){var o=dn();Fo(e,i,a,o)}function Fo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Tg(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return Su(e,i,h,0),Wt===null&&Au(),!1}catch{}finally{}if(a=Bh(e,i,h,o),a!==null)return mn(a,e,o),Ag(a,i,o),!0}return!1}function Af(e,i,a,o){if(o={lane:2,revertLane:td(),action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(i)throw Error(s(479))}else i=Bh(e,a,o,2),i!==null&&mn(i,e,2)}function Bu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Tg(e,i){ga=Pu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ag(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,fo(e,a)}}var qu={readContext:Fe,use:ku,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Sg={readContext:Fe,use:ku,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:ag,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,zu(4194308,4,cg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return zu(4194308,4,e,i)},useInsertionEffect:function(e,i){zu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(As){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(As){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=eA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=gf(e);var i=e.queue,a=Eg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(e,i){var a=en();return vf(a,e,i)},useTransition:function(){var e=gf(!1);return e=pg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=en();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Gp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,ag(Qp.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,Lu(),Fp.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Bt){var a=Di,o=Ci;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=xu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=X0++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Tf,useFormState:eg,useActionState:eg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:df,useCacheRefresh:function(){return en().memoizedState=tA.bind(null,bt)}},bg={readContext:Fe,use:ku,useCallback:fg,useContext:Fe,useEffect:og,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:Uu,useRef:sg,useState:function(){return Uu(Vi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=ge();return mg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Uu(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Ho(e),i]},useSyncExternalStore:Hp,useId:_g,useHostTransitionStatus:Tf,useFormState:ng,useActionState:ng,useOptimistic:function(e,i){var a=ge();return Xp(a,Kt,e,i)},useMemoCache:df,useCacheRefresh:vg},nA={readContext:Fe,use:ku,useCallback:fg,useContext:Fe,useEffect:og,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:pf,useRef:sg,useState:function(){return pf(Vi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=ge();return Kt===null?vf(a,e,i):mg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=pf(Vi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Ho(e),i]},useSyncExternalStore:Hp,useId:_g,useHostTransitionStatus:Tf,useFormState:rg,useActionState:rg,useOptimistic:function(e,i){var a=ge();return Kt!==null?Xp(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:vg},va=null,Qo=0;function ju(e){var i=Qo;return Qo+=1,va===null&&(va=[]),xp(va,e,i)}function Ko(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wg(e){var i=e._init;return i(e._payload)}function Rg(e){function i(P,D){if(e){var U=P.deletions;U===null?(P.deletions=[D],P.flags|=16):U.push(D)}}function a(P,D){if(!e)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function o(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(P,D){return P=Ii(P,D),P.index=0,P.sibling=null,P}function f(P,D,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<D?(P.flags|=67108866,D):U):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,D,U,Q){return D===null||D.tag!==6?(D=jh(U,P.mode,Q),D.return=P,D):(D=h(D,U),D.return=P,D)}function b(P,D,U,Q){var lt=U.type;return lt===j?F(P,D,U.props.children,Q,U.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&wg(lt)===D.type)?(D=h(D,U.props),Ko(D,U),D.return=P,D):(D=wu(U.type,U.key,U.props,null,P.mode,Q),Ko(D,U),D.return=P,D)}function L(P,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Hh(U,P.mode,Q),D.return=P,D):(D=h(D,U.children||[]),D.return=P,D)}function F(P,D,U,Q,lt){return D===null||D.tag!==7?(D=ms(U,P.mode,Q,lt),D.return=P,D):(D=h(D,U),D.return=P,D)}function Y(P,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jh(""+D,P.mode,U),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return U=wu(D.type,D.key,D.props,null,P.mode,U),Ko(U,D),U.return=P,U;case H:return D=Hh(D,P.mode,U),D.return=P,D;case S:var Q=D._init;return D=Q(D._payload),Y(P,D,U)}if(se(D)||x(D))return D=ms(D,P.mode,U,null),D.return=P,D;if(typeof D.then=="function")return Y(P,ju(D),U);if(D.$$typeof===ct)return Y(P,Du(P,D),U);Hu(P,D)}return null}function z(P,D,U,Q){var lt=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:E(P,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===lt?b(P,D,U,Q):null;case H:return U.key===lt?L(P,D,U,Q):null;case S:return lt=U._init,U=lt(U._payload),z(P,D,U,Q)}if(se(U)||x(U))return lt!==null?null:F(P,D,U,Q,null);if(typeof U.then=="function")return z(P,D,ju(U),Q);if(U.$$typeof===ct)return z(P,D,Du(P,U),Q);Hu(P,U)}return null}function B(P,D,U,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(U)||null,E(D,P,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return P=P.get(Q.key===null?U:Q.key)||null,b(D,P,Q,lt);case H:return P=P.get(Q.key===null?U:Q.key)||null,L(D,P,Q,lt);case S:var Rt=Q._init;return Q=Rt(Q._payload),B(P,D,U,Q,lt)}if(se(Q)||x(Q))return P=P.get(U)||null,F(D,P,Q,lt,null);if(typeof Q.then=="function")return B(P,D,U,ju(Q),lt);if(Q.$$typeof===ct)return B(P,D,U,Du(D,Q),lt);Hu(D,Q)}return null}function vt(P,D,U,Q){for(var lt=null,Rt=null,ut=D,pt=D=0,Ve=null;ut!==null&&pt<U.length;pt++){ut.index>pt?(Ve=ut,ut=null):Ve=ut.sibling;var Lt=z(P,ut,U[pt],Q);if(Lt===null){ut===null&&(ut=Ve);break}e&&ut&&Lt.alternate===null&&i(P,ut),D=f(Lt,D,pt),Rt===null?lt=Lt:Rt.sibling=Lt,Rt=Lt,ut=Ve}if(pt===U.length)return a(P,ut),Bt&&gs(P,pt),lt;if(ut===null){for(;pt<U.length;pt++)ut=Y(P,U[pt],Q),ut!==null&&(D=f(ut,D,pt),Rt===null?lt=ut:Rt.sibling=ut,Rt=ut);return Bt&&gs(P,pt),lt}for(ut=o(ut);pt<U.length;pt++)Ve=B(ut,P,pt,U[pt],Q),Ve!==null&&(e&&Ve.alternate!==null&&ut.delete(Ve.key===null?pt:Ve.key),D=f(Ve,D,pt),Rt===null?lt=Ve:Rt.sibling=Ve,Rt=Ve);return e&&ut.forEach(function(Rr){return i(P,Rr)}),Bt&&gs(P,pt),lt}function mt(P,D,U,Q){if(U==null)throw Error(s(151));for(var lt=null,Rt=null,ut=D,pt=D=0,Ve=null,Lt=U.next();ut!==null&&!Lt.done;pt++,Lt=U.next()){ut.index>pt?(Ve=ut,ut=null):Ve=ut.sibling;var Rr=z(P,ut,Lt.value,Q);if(Rr===null){ut===null&&(ut=Ve);break}e&&ut&&Rr.alternate===null&&i(P,ut),D=f(Rr,D,pt),Rt===null?lt=Rr:Rt.sibling=Rr,Rt=Rr,ut=Ve}if(Lt.done)return a(P,ut),Bt&&gs(P,pt),lt;if(ut===null){for(;!Lt.done;pt++,Lt=U.next())Lt=Y(P,Lt.value,Q),Lt!==null&&(D=f(Lt,D,pt),Rt===null?lt=Lt:Rt.sibling=Lt,Rt=Lt);return Bt&&gs(P,pt),lt}for(ut=o(ut);!Lt.done;pt++,Lt=U.next())Lt=B(ut,P,pt,Lt.value,Q),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?pt:Lt.key),D=f(Lt,D,pt),Rt===null?lt=Lt:Rt.sibling=Lt,Rt=Lt);return e&&ut.forEach(function(iS){return i(P,iS)}),Bt&&gs(P,pt),lt}function Xt(P,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:t:{for(var lt=U.key;D!==null;){if(D.key===lt){if(lt=U.type,lt===j){if(D.tag===7){a(P,D.sibling),Q=h(D,U.props.children),Q.return=P,P=Q;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&wg(lt)===D.type){a(P,D.sibling),Q=h(D,U.props),Ko(Q,U),Q.return=P,P=Q;break t}a(P,D);break}else i(P,D);D=D.sibling}U.type===j?(Q=ms(U.props.children,P.mode,Q,U.key),Q.return=P,P=Q):(Q=wu(U.type,U.key,U.props,null,P.mode,Q),Ko(Q,U),Q.return=P,P=Q)}return v(P);case H:t:{for(lt=U.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(P,D.sibling),Q=h(D,U.children||[]),Q.return=P,P=Q;break t}else{a(P,D);break}else i(P,D);D=D.sibling}Q=Hh(U,P.mode,Q),Q.return=P,P=Q}return v(P);case S:return lt=U._init,U=lt(U._payload),Xt(P,D,U,Q)}if(se(U))return vt(P,D,U,Q);if(x(U)){if(lt=x(U),typeof lt!="function")throw Error(s(150));return U=lt.call(U),mt(P,D,U,Q)}if(typeof U.then=="function")return Xt(P,D,ju(U),Q);if(U.$$typeof===ct)return Xt(P,D,Du(P,U),Q);Hu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(P,D.sibling),Q=h(D,U),Q.return=P,P=Q):(a(P,D),Q=jh(U,P.mode,Q),Q.return=P,P=Q),v(P)):a(P,D)}return function(P,D,U,Q){try{Qo=0;var lt=Xt(P,D,U,Q);return va=null,lt}catch(ut){if(ut===Uo||ut===Ou)throw ut;var Rt=un(29,ut,null,P.mode);return Rt.lanes=Q,Rt.return=P,Rt}finally{}}}var Ea=Rg(!0),Ig=Rg(!1),In=Z(null),ni=null;function hr(e){var i=e.alternate;W(be,be.current&1),W(In,e),ni===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ni=e)}function Cg(e){if(e.tag===22){if(W(be,be.current),W(In,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else fr()}function fr(){W(be,be.current),W(In,In.current)}function Mi(e){it(In),ni===e&&(ni=null),it(be)}var be=Z(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=dn(),h=lr(o);h.payload=i,a!=null&&(h.callback=a),i=ur(e,h,o),i!==null&&(mn(i,e,o),zo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=dn(),h=lr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ur(e,h,o),i!==null&&(mn(i,e,o),zo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),o=lr(a);o.tag=2,i!=null&&(o.callback=i),i=ur(e,o,a),i!==null&&(mn(i,e,a),zo(i,e,a))}};function Dg(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Do(a,o)||!Do(h,f):!0}function Ng(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&bf.enqueueReplaceState(i,i.state,null)}function Ss(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Og(e){Fu(e)}function Vg(e){console.error(e)}function Mg(e){Fu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,i,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function xg(e){return e=lr(e),e.tag=3,e}function kg(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pg(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Pg(i,a,o),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function iA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?Xf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Zf(e,o,h)),!1;case 22:return a.flags|=65536,o===Jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Zf(e,o,h)),!1}throw Error(s(435,a.tag))}return Zf(e,o,h),Xf(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Qh&&(e=Error(s(422),{cause:o}),Mo(Sn(e,a)))):(o!==Qh&&(i=Error(s(423),{cause:o}),Mo(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=wf(e.stateNode,o,h),nf(e,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=Sn(f,a),tl===null?tl=[f]:tl.push(f),le!==4&&(le=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=wf(a.stateNode,o,e),nf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xg(h),kg(h,e,a,o),nf(a,h),!1}a=a.return}while(a!==null);return!1}var Ug=Error(s(461)),Ne=!1;function Ue(e,i,a,o){i.child=e===null?Ig(i,null,a,o):Ea(i,e.child,a,o)}function Lg(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Es(i),o=lf(e,i,a,v,f,h),E=uf(),e!==null&&!Ne?(cf(e,i,h),Pi(e,i,h)):(Bt&&E&&Gh(i),i.flags|=1,Ue(e,i,o,h),i.child)}function zg(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Bg(e,i,f,o,h)):(e=wu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Mf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(v,o)&&e.ref===i.ref)return Pi(e,i,h)}return i.flags|=1,e=Ii(f,o),e.ref=i.ref,e.return=i,i.child=e}function Bg(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=o=f,Mf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Pi(e,i,h)}return Rf(e,i,a,o,h)}function qg(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return jg(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(i,f!==null?f.cachePool:null),f!==null?Bp(i,f):sf(),Cg(i);else return i.lanes=i.childLanes=536870912,jg(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Nu(i,f.cachePool),Bp(i,f),fr(),i.memoizedState=null):(e!==null&&Nu(i,null),sf(),fr());return Ue(e,i,h,a),i.child}function jg(e,i,a,o){var h=Wh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nu(i,null),sf(),Cg(i),e!==null&&Po(e,i,o,!0),null}function Ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Rf(e,i,a,o,h){return Es(i),a=lf(e,i,a,o,void 0,h),o=uf(),e!==null&&!Ne?(cf(e,i,h),Pi(e,i,h)):(Bt&&o&&Gh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Hg(e,i,a,o,h,f){return Es(i),i.updateQueue=null,a=jp(i,o,a,h),qp(e),o=uf(),e!==null&&!Ne?(cf(e,i,f),Pi(e,i,f)):(Bt&&o&&Gh(i),i.flags|=1,Ue(e,i,a,f),i.child)}function Gg(e,i,a,o,h){if(Es(i),i.stateNode===null){var f=ca,v=a.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},tf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):ca,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&bf.enqueueReplaceState(f,f.state,null),qo(i,o,f,h),Bo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=Ss(a,E);f.props=b;var L=f.context,F=a.contextType;v=ca,typeof F=="object"&&F!==null&&(v=Fe(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&Ng(i,f,o,v),or=!1;var z=i.memoizedState;f.state=z,qo(i,o,f,h),Bo(),L=i.memoizedState,E||z!==L||or?(typeof Y=="function"&&(Sf(i,a,Y,o),L=i.memoizedState),(b=or||Dg(i,a,b,o,z,L,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,ef(e,i),v=i.memoizedProps,F=Ss(a,v),f.props=F,Y=i.pendingProps,z=f.context,L=a.contextType,b=ca,typeof L=="object"&&L!==null&&(b=Fe(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||z!==b)&&Ng(i,f,o,b),or=!1,z=i.memoizedState,f.state=z,qo(i,o,f,h),Bo();var B=i.memoizedState;v!==Y||z!==B||or||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Sf(i,a,E,o),B=i.memoizedState),(F=or||Dg(i,a,F,o,z,B,b)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Ku(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Ea(i,e.child,null,h),i.child=Ea(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Pi(e,i,h),e}function Fg(e,i,a,o){return Vo(),i.flags|=256,Ue(e,i,a,o),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:Vp()}}function Df(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function Qg(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?hr(i):fr(),Bt){var E=oe,b;if(b=E){t:{for(b=E,E=ei;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,tn=i,oe=null,b=!0):b=!1}b||_s(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return fd(E)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return E=o.children,o=o.fallback,h?(fr(),h=i.mode,E=Yu({mode:"hidden",children:E},h),o=ms(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Cf(a),h.childLanes=Df(e,v,a),i.memoizedState=If,o):(hr(i),Nf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(hr(i),i.flags&=-257,i=Of(e,i,a)):i.memoizedState!==null?(fr(),i.child=e.child,i.flags|=128,i=null):(fr(),h=o.fallback,E=i.mode,o=Yu({mode:"visible",children:o.children},E),h=ms(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Ea(i,e.child,null,a),o=i.child,o.memoizedState=Cf(a),o.childLanes=Df(e,v,a),i.memoizedState=If,i=h);else if(hr(i),fd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Mo({value:o,source:null,stack:null}),i=Of(e,i,a)}else if(Ne||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ji(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ua(e,o),mn(v,e,o),Ug;E.data==="$?"||Xf(),i=Of(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,oe=Ln(E.nextSibling),tn=i,Bt=!0,ys=null,ei=!1,e!==null&&(wn[Rn++]=Ci,wn[Rn++]=Di,wn[Rn++]=ps,Ci=e.id,Di=e.overflow,ps=i),i=Nf(i,o.children),i.flags|=4096);return i}return h?(fr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ii(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ii(L,h):(h=ms(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Cf(a):(b=E.cachePool,b!==null?(L=Se._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Vp(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Df(e,v,a),i.memoizedState=If,o):(hr(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Nf(e,i){return i=Yu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yu(e,i){return e=un(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Of(e,i,a){return Ea(i,e.child,null,a),e=Nf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Kg(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Yh(e.return,i,a)}function Vf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Yg(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,i,o.children,a),o=be.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,a,i);else if(e.tag===19)Kg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(be,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vf(i,!0,a,null,f);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),yr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function rA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),ar(i,Se,e.memoizedState.cache),Vo();break;case 27:case 5:Wi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:ar(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qg(e,i,a):(hr(i),e=Pi(e,i,a),e!==null?e.sibling:null);hr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Po(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Yg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),o)break;return null;case 22:case 23:return i.lanes=0,qg(e,i,a);case 24:ar(i,Se,e.memoizedState.cache)}return Pi(e,i,a)}function Xg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Mf(e,a)&&(i.flags&128)===0)return Ne=!1,rA(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&wp(i,Iu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")qh(o)?(e=Ss(o,e),i.tag=1,i=Gg(null,i,o,e,a)):(i.tag=0,i=Rf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Vt){i.tag=11,i=Lg(null,i,o,e,a);break t}else if(h===V){i.tag=14,i=zg(null,i,o,e,a);break t}}throw i=Pe(o)||o,Error(s(306,i,""))}}return i;case 0:return Rf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ss(o,i.pendingProps),Gg(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,ef(e,i),qo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,ar(i,Se,o),o!==f.cache&&Xh(i,[Se],a,!0),Bo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Fg(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),Mo(h),i=Fg(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Ln(e.firstChild),tn=i,Bt=!0,ys=null,ei=!0,a=Ig(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),o===h){i=Pi(e,i,a);break t}Ue(e,i,o,a)}i=i.child}return i;case 26:return Ku(e,i),e===null?(a=Jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=lc(Et.current).createElement(a),o[Ee]=i,o[de]=e,ze(o,a,e),ue(o),i.stateNode=o):i.memoizedState=Jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Wi(i),e===null&&Bt&&(o=i.stateNode=$y(i.type,i.pendingProps,Et.current),tn=i,ei=!0,h=oe,Tr(i.type)?(dd=h,oe=Ln(o.firstChild)):oe=h),Ue(e,i,i.pendingProps.children,a),Ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=oe)&&(o=VA(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,tn=i,oe=Ln(o.firstChild),ei=!1,h=!0):h=!1),h||_s(i)),Wi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:v!==null&&ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=lf(e,i,$0,null,null,a),ul._currentValue=h),Ku(e,i),Ue(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=MA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,tn=i,oe=null,e=!0):e=!1),e||_s(i)),null;case 13:return Qg(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ea(i,null,o,a):Ue(e,i,o,a),i.child;case 11:return Lg(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ar(i,i.type,o.value),Ue(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Es(i),h=Fe(h),o=o(h),i.flags|=1,Ue(e,i,o,a),i.child;case 14:return zg(e,i,i.type,i.pendingProps,a);case 15:return Bg(e,i,i.type,i.pendingProps,a);case 19:return Yg(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Yu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return qg(e,i,a);case 24:return Es(i),o=Fe(Se),e===null?(h=Wh(),h===null&&(h=Wt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},tf(i),ar(i,Se,h)):((e.lanes&a)!==0&&(ef(e,i),qo(i,null,null,a),Bo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ar(i,Se,o)):(o=f.cache,ar(i,Se,o),o!==h.cache&&Xh(i,[Se],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(e){e.flags|=4}function $g(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=In.current,i!==null&&((kt&4194048)===kt?ni!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ni))throw Lo=Jh,Mp;e.flags|=8192}}function Xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?co():536870912,e.lanes|=i,ba|=i)}function Yo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function sA(e,i,a){var o=i.pendingProps;switch(Fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Oi(Se),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cp())),ie(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(ie(i),$g(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),ie(i),$g(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==o&&xi(i),ie(i),i.flags&=-16777217),null;case 27:mi(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=dt.current,Oo(i)?Rp(i):(e=$y(h,o,a),i.stateNode=e,xi(i))}return ie(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=dt.current,Oo(i))Rp(i);else{switch(h=lc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ee]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Oo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,a)),e||_s(i)}else e=lc(e).createTextNode(o),e[Ee]=i,i.stateNode=e}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Cp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),ie(i),null;case 4:return Hn(),e===null&&rd(i.stateNode.containerInfo),ie(i),null;case 10:return Oi(i.type),ie(i),null;case 19:if(it(be),h=i.memoizedState,h===null)return ie(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Yo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Gu(e),f!==null){for(i.flags|=128,Yo(h,!1),e=f.updateQueue,i.updateQueue=e,Xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)bp(a,e),a=a.sibling;return W(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&yn()>Wu&&(i.flags|=128,o=!0,Yo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Gu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Xu(i,e),Yo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ie(i),null}else 2*yn()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,o=!0,Yo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,e=be.current,W(be,o?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Mi(i),af(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&it(Ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aA(e,i){switch(Fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Se),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(be),null;case 4:return Hn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Mi(i),af(),e!==null&&it(Ts),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function Zg(e,i){switch(Fh(i),i.tag){case 3:Oi(Se),Hn();break;case 26:case 27:case 5:mi(i);break;case 4:Hn();break;case 13:Mi(i);break;case 19:it(be);break;case 10:Oi(i.type);break;case 22:case 23:Mi(i),af(),e!==null&&it(Ts);break;case 24:Oi(Se)}}function Xo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function dr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(F){$t(h,b,F)}}}o=o.next}while(o!==f)}}catch(F){$t(i,i.return,F)}}function Wg(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{zp(i,a)}catch(o){$t(e,e.return,o)}}}function Jg(e,i,a){a.props=Ss(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function $o(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ii(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function ty(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Pf(e,i,a){try{var o=e.stateNode;IA(o,e.type,a,i),o[de]=i}catch(h){$t(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oc));else if(o!==4&&(o===27&&Tr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function $u(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Tr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,i,a),e=e.sibling;e!==null;)$u(e,i,a),e=e.sibling}function ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,o,a),i[Ee]=e,i[de]=a}catch(f){$t(e,e.return,f)}}var ki=!1,he=!1,Uf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function oA(e,i){if(e=e.containerInfo,od=mc,e=mp(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,F=0,Y=e,z=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==f||o!==0&&Y.nodeType!==3||(b=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++F===o&&(b=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:e,selectionRange:a},mc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var vt=Ss(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function ry(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:mr(e,a),o&4&&Xo(5,a);break;case 1:if(mr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Ss(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Wg(a),o&512&&$o(a,a.return);break;case 3:if(mr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zp(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&ny(a);case 26:case 5:mr(e,a),i===null&&o&4&&ty(a),o&512&&$o(a,a.return);break;case 12:mr(e,a);break;case 13:mr(e,a),o&4&&oy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gA.bind(null,a),PA(e,a))));break;case 22:if(o=a.memoizedState!==null||ki,!o){i=i!==null&&i.memoizedState!==null||he,h=ki;var f=he;ki=o,(he=i)&&!f?pr(e,a,(a.subtreeFlags&8772)!==0):mr(e,a),ki=h,he=f}break;case 30:break;default:mr(e,a)}}function sy(e){var i=e.alternate;i!==null&&(e.alternate=null,sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&nr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,nn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)ay(e,i,a),a=a.sibling}function ay(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ii(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ii(a,i);var o=ne,h=nn;Tr(a.type)&&(ne=a.stateNode,nn=!1),Ui(e,i,a),sl(a.stateNode),ne=o,nn=h;break;case 5:he||ii(a,i);case 6:if(o=ne,h=nn,ne=null,Ui(e,i,a),ne=o,nn=h,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:ne!==null&&(nn?(e=ne,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),dl(e)):Yy(ne,a.stateNode));break;case 4:o=ne,h=nn,ne=a.stateNode.containerInfo,nn=!0,Ui(e,i,a),ne=o,nn=h;break;case 0:case 11:case 14:case 15:he||dr(2,a,i),he||dr(4,a,i),Ui(e,i,a);break;case 1:he||(ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Jg(a,i,o)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,Ui(e,i,a),he=o;break;default:Ui(e,i,a)}}function oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(a){$t(i,i.return,a)}}function lA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iy),i;default:throw Error(s(435,e.tag))}}function Lf(e,i){var a=lA(e);i.forEach(function(o){var h=yA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Tr(E.type)){ne=E.stateNode,nn=!1;break t}break;case 5:ne=E.stateNode,nn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));ay(f,v,h),ne=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,e),i=i.sibling}var Un=null;function ly(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(dr(3,e,e.return),Xo(3,e),dr(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(he||a===null||ii(a,a.return)),o&64&&ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(cn(i,e),hn(e),o&512&&(he||a===null||ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,o,a),f[Ee]=e,ue(f),o=f;break t;case"link":var v=n_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;case"meta":if(v=n_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,ue(f),o=f}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(he||a===null||ii(a,a.return)),a!==null&&o&4&&Pf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(he||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(hc=null,h=Un,Un=uc(i.containerInfo),cn(i,e),Un=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(B){$t(e,e.return,B)}Uf&&(Uf=!1,uy(e));break;case 4:o=Un,Un=uc(e.stateNode.containerInfo),cn(i,e),hn(e),Un=o;break;case 12:cn(i,e),hn(e);break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gf=yn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=ki,F=he;if(ki=L||h,he=F||b,cn(i,e),he=F,ki=L,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||ki||he||bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Lf(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lf(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=xf(e);$u(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=xf(e);$u(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=xf(e);kf(e,L,b);break;default:throw Error(s(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function mr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(e,i.alternate,i),i=i.sibling}function bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:dr(4,i,i.return),bs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jg(i,i.return,a),bs(i);break;case 27:sl(i.stateNode);case 26:case 5:ii(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}e=e.sibling}}function pr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:pr(h,f,a),Xo(4,f);break;case 1:if(pr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Lp(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&Wg(f),$o(f,f.return);break;case 27:ny(f);case 26:case 5:pr(h,f,a),a&&o===null&&v&4&&ty(f),$o(f,f.return);break;case 12:pr(h,f,a);break;case 13:pr(h,f,a),a&&v&4&&oy(h,f);break;case 22:f.memoizedState===null&&pr(h,f,a),$o(f,f.return);break;case 30:break;default:pr(h,f,a)}i=i.sibling}}function zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Bf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e))}function ri(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(e,i,a,o),i=i.sibling}function cy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,o),h&2048&&Xo(9,i);break;case 1:ri(e,i,a,o);break;case 3:ri(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){ri(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ri(e,i,a,o);break;case 13:ri(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ri(e,i,a,o):Zo(e,i):f._visibility&2?ri(e,i,a,o):(f._visibility|=2,Ta(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ri(e,i,a,o),h&2048&&Bf(i.alternate,i);break;default:ri(e,i,a,o)}}function Ta(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(f,v,E,b,h),Xo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ta(f,v,E,b,h):Zo(f,v):(F._visibility|=2,Ta(f,v,E,b,h)),h&&L&2048&&zf(v.alternate,v);break;case 24:Ta(f,v,E,b,h),h&&L&2048&&Bf(v.alternate,v);break;default:Ta(f,v,E,b,h)}i=i.sibling}}function Zo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Zo(a,o),h&2048&&zf(o.alternate,o);break;case 24:Zo(a,o),h&2048&&Bf(o.alternate,o);break;default:Zo(a,o)}i=i.sibling}}var Wo=8192;function Aa(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 26:Aa(e),e.flags&Wo&&e.memoizedState!==null&&KA(Un,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var i=Un;Un=uc(e.stateNode.containerInfo),Aa(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Wo,Wo=16777216,Aa(e),Wo=i):Aa(e));break;default:Aa(e)}}function fy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Jo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&dr(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Zu(e)):Jo(e);break;default:Jo(e)}}function Zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:dr(8,i,i.return),Zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(i));break;default:Zu(i)}e=e.sibling}}function my(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,f=o.return;if(sy(o),o===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var uA={getCacheForType:function(e){var i=Fe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},cA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,It=null,kt=0,Ft=0,fn=null,gr=!1,Sa=!1,qf=!1,Li=0,le=0,yr=0,ws=0,jf=0,Cn=0,ba=0,tl=null,rn=null,Hf=!1,Gf=0,Wu=1/0,Ju=null,_r=null,Le=0,vr=null,wa=null,Ra=0,Ff=0,Qf=null,py=null,el=0,Kf=null;function dn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(G.T!==null){var e=da;return e!==0?e:td()}return tr()}function gy(){Cn===0&&(Cn=(kt&536870912)===0||Bt?uo():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function mn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Er(e,kt,Cn,!1)),gi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(ws|=a),le===4&&Er(e,kt,Cn,!1)),si(e))}function yy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Zr(e,i),h=o?dA(e,i):$f(e,i,!0),f=o;do{if(h===0){Sa&&!o&&Er(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!hA(a)){h=$f(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=tl;var b=E.current.memoizedState.isDehydrated;if(b&&(Ia(E,v).flags|=256),v=$f(E,v,!1),v!==2){if(qf&&!b){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Er(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Er(o,i,Cn,!gr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Gf+300-yn(),10<h)){if(Er(o,i,Cn,!gr),Gs(o,0,!0)!==0)break t;o.timeoutHandle=Qy(_y.bind(null,o,a,rn,Ju,Hf,i,Cn,ws,ba,gr,f,2,-0,0),h);break t}_y(o,a,rn,Ju,Hf,i,Cn,ws,ba,gr,f,0,-0,0)}}break}while(!0);si(e)}function _y(e,i,a,o,h,f,v,E,b,L,F,Y,z,B){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:QA},hy(i),Y=YA(),Y!==null)){e.cancelPendingCommit=Y(wy.bind(null,e,i,f,a,o,h,v,E,b,F,1,z,B)),Er(e,f,v,!L);return}wy(e,i,f,a,o,h,v,E,b)}function hA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Er(e,i,a,o){i&=~jf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Ge(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Gn(e,a,i)}function tc(){return(Gt&6)===0?(nl(0),!1):!0}function Yf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ni=vs=null,hf(e),va=null,Qo=0,e=It;for(;e!==null;)Zg(e.alternate,e),e=e.return;It=null}}function Ia(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,DA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yf(),Wt=e,It=a=Ii(e.current,null),kt=i,Ft=0,fn=null,gr=!1,Sa=Zr(e,i),qf=!1,ba=Cn=jf=ws=yr=le=0,rn=tl=null,Hf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ge(o),f=1<<h;i|=e[h],o&=~f}return Li=i,Au(),a}function vy(e,i){bt=null,G.H=qu,i===Uo||i===Ou?(i=kp(),Ft=3):i===Mp?(i=kp(),Ft=4):Ft=i===Ug?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,It===null&&(le=1,Qu(e,Sn(i,e.current)))}function Ey(){var e=G.H;return G.H=qu,e===null?qu:e}function Ty(){var e=G.A;return G.A=uA,e}function Xf(){le=4,gr||(kt&4194048)!==kt&&In.current!==null||(Sa=!0),(yr&134217727)===0&&(ws&134217727)===0||Wt===null||Er(Wt,kt,Cn,!1)}function $f(e,i,a){var o=Gt;Gt|=2;var h=Ey(),f=Ty();(Wt!==e||kt!==i)&&(Ju=null,Ia(e,i)),i=!1;var v=le;t:do try{if(Ft!==0&&It!==null){var E=It,b=fn;switch(Ft){case 8:Yf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var L=Ft;if(Ft=0,fn=null,Ca(e,E,b,L),a&&Sa){v=0;break t}break;default:L=Ft,Ft=0,fn=null,Ca(e,E,b,L)}}fA(),v=le;break}catch(F){vy(e,F)}while(!0);return i&&e.shellSuspendCounter++,Ni=vs=null,Gt=o,G.H=h,G.A=f,It===null&&(Wt=null,kt=0,Au()),v}function fA(){for(;It!==null;)Ay(It)}function dA(e,i){var a=Gt;Gt|=2;var o=Ey(),h=Ty();Wt!==e||kt!==i?(Ju=null,Wu=yn()+500,Ia(e,i)):Sa=Zr(e,i);t:do try{if(Ft!==0&&It!==null){i=It;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,Ca(e,i,f,1);break;case 2:case 9:if(Pp(f)){Ft=0,fn=null,Sy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),si(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Pp(f)?(Ft=0,fn=null,Sy(i)):(Ft=0,fn=null,Ca(e,i,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||r_(v)){Ft=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,ec(L)):It=null}break e}}Ft=0,fn=null,Ca(e,i,f,5);break;case 6:Ft=0,fn=null,Ca(e,i,f,6);break;case 8:Yf(),le=6;break t;default:throw Error(s(462))}}mA();break}catch(F){vy(e,F)}while(!0);return Ni=vs=null,G.H=o,G.A=h,Gt=a,It!==null?0:(Wt=null,kt=0,Au(),le)}function mA(){for(;It!==null&&!so();)Ay(It)}function Ay(e){var i=Xg(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?ec(e):It=i}function Sy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Hg(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Hg(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:hf(i);default:Zg(a,i),i=It=bp(i,Li),i=Xg(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?ec(e):It=i}function Ca(e,i,a,o){Ni=vs=null,hf(i),va=null,Qo=0;var h=i.return;try{if(iA(e,h,i,a,kt)){le=1,Qu(e,Sn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;le=1,Qu(e,Sn(a,e.current)),It=null;return}i.flags&32768?(Bt||o===1?e=!0:Sa||(kt&536870912)!==0?e=!1:(gr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),by(i,e)):ec(i)}function ec(e){var i=e;do{if((i.flags&32768)!==0){by(i,gr);return}e=i.return;var a=sA(i.alternate,i,Li);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);le===0&&(le=5)}function by(e,i){do{var a=aA(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);le=6,It=null}function wy(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do nc();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=zh,ho(e,a,f,v,E,b),e===Wt&&(It=Wt=null,kt=0),wa=i,vr=e,Ra=a,Ff=f,Qf=h,py=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_A(Kr,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,v=Gt,Gt|=4;try{oA(e,i,a)}finally{Gt=v,nt.p=h,G.T=o}}Le=1,Ry(),Iy(),Cy()}}function Ry(){if(Le===1){Le=0;var e=vr,i=wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ly(i,e);var f=ld,v=mp(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&dp(E.ownerDocument.documentElement,E)){if(b!==null&&Ph(E)){var L=b.start,F=b.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=E.textContent.length,mt=Math.min(b.start,vt),Xt=b.end===void 0?mt:Math.min(b.end,vt);!B.extend&&mt>Xt&&(v=Xt,Xt=mt,mt=v);var P=fp(E,mt),D=fp(E,Xt);if(P&&D&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),mt>Xt?(B.addRange(U),B.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),B.addRange(U))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}mc=!!od,ld=od=null}finally{Gt=h,nt.p=o,G.T=a}}e.current=i,Le=2}}function Iy(){if(Le===2){Le=0;var e=vr,i=wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ry(e,i.alternate,i)}finally{Gt=h,nt.p=o,G.T=a}}Le=3}}function Cy(){if(Le===4||Le===3){Le=0,Zl();var e=vr,i=wa,a=Ra,o=py;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,wa=vr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(_r=null),Fs(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{G.T=i,nt.p=h}}(Ra&3)!==0&&nc(),si(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Kf?el++:(el=0,Kf=e):el=0,nl(0)}}function Dy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xo(i)))}function nc(e){return Ry(),Iy(),Cy(),Ny()}function Ny(){if(Le!==5)return!1;var e=vr,i=Ff;Ff=0;var a=Fs(Ra),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=Qf,Qf=null;var f=vr,v=Ra;if(Le=0,wa=vr=null,Ra=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,dy(f.current),cy(f,f.current,v,a),Gt=E,nl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{nt.p=h,G.T=o,Dy(e,i)}}function Oy(e,i,a){i=Sn(a,i),i=wf(e.stateNode,i,2),e=ur(e,i,2),e!==null&&(gi(e,2),si(e))}function $t(e,i,a){if(e.tag===3)Oy(e,e,a);else for(;i!==null;){if(i.tag===3){Oy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_r===null||!_r.has(o))){e=Sn(a,e),a=xg(2),o=ur(i,a,2),o!==null&&(kg(a,o,i,e),gi(o,2),si(o));break}}i=i.return}}function Zf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new cA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(qf=!0,h.add(a),e=pA.bind(null,e,i,a),i.then(e,e))}function pA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>yn()-Gf?(Gt&2)===0&&Ia(e,0):jf|=a,ba===kt&&(ba=0)),si(e)}function Vy(e,i){i===0&&(i=co()),e=ua(e,i),e!==null&&(gi(e,i),si(e))}function gA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(e,a)}function yA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Vy(e,a)}function _A(e,i){return Fr(e,i)}var ic=null,Da=null,Wf=!1,rc=!1,Jf=!1,Rs=0;function si(e){e!==Da&&e.next===null&&(Da===null?ic=Da=e:Da=Da.next=e),rc=!0,Wf||(Wf=!0,EA())}function nl(e,i){if(!Jf&&rc){Jf=!0;do for(var a=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ge(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ky(o,f))}else f=kt,f=Gs(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zr(o,f)||(a=!0,ky(o,f));o=o.next}while(a);Jf=!1}}function vA(){My()}function My(){rc=Wf=!1;var e=0;Rs!==0&&(CA()&&(e=Rs),Rs=0);for(var i=yn(),a=null,o=ic;o!==null;){var h=o.next,f=Py(o,i);f===0?(o.next=null,a===null?ic=h:a.next=h,h===null&&(Da=a)):(a=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}nl(e)}function Py(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ge(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=lo(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Wt,a=kt,a=Gs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Qr(o),Fs(a)){case 2:case 8:a=js;break;case 32:a=Kr;break;case 268435456:a=Hs;break;default:a=Kr}return o=xy.bind(null,e),a=Fr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Qr(o),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nc()&&e.callbackNode!==a)return null;var o=kt;return o=Gs(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,i),Py(e,yn()),e.callbackNode!=null&&e.callbackNode===a?xy.bind(null,e):null)}function ky(e,i){if(nc())return null;yy(e,i,!0)}function EA(){NA(function(){(Gt&6)!==0?Fr(ao,vA):My()})}function td(){return Rs===0&&(Rs=uo()),Rs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Ly(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function TA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Uy((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?Uy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Ws("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Rs!==0){var b=v?Ly(h,v):new FormData(h);Ef(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Ly(h,v):new FormData(h),Ef(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var ed=0;ed<Lh.length;ed++){var nd=Lh[ed],AA=nd.toLowerCase(),SA=nd[0].toUpperCase()+nd.slice(1);kn(AA,"on"+SA)}kn(yp,"onAnimationEnd"),kn(_p,"onAnimationIteration"),kn(vp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(B0,"onTransitionRun"),kn(q0,"onTransitionStart"),kn(j0,"onTransitionCancel"),kn(Ep,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function zy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Fu(F)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Fu(F)}h.currentTarget=null,f=b}}}}function Ct(e,i){var a=i[mo];a===void 0&&(a=i[mo]=new Set);var o=e+"__bubble";a.has(o)||(By(i,e,2,!1),a.add(o))}function id(e,i,a){var o=0;i&&(o|=4),By(a,e,o,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[sc]){e[sc]=!0,po.forEach(function(a){a!=="selectionchange"&&(bA.has(a)||id(a,!1,e),id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[sc]||(i[sc]=!0,id("selectionchange",!1,i))}}function By(e,i,a,o){switch(c_(i)){case 2:var h=ZA;break;case 8:h=WA;break;default:h=_d}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function sd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=yi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}ou(function(){var L=f,F=En(a),Y=[];t:{var z=Tp.get(e);if(z!==void 0){var B=Ws,vt=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":B=ra;break;case"focusin":vt="focus",B=ea;break;case"focusout":vt="blur",B=ea;break;case"beforeblur":case"afterblur":B=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=pu;break;case yp:case _p:case vp:B=na;break;case Ep:B=yu;break;case"scroll":case"scrollend":B=lu;break;case"wheel":B=sa;break;case"copy":case"cut":case"paste":B=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Io;break;case"toggle":case"beforetoggle":B=vu}var mt=(i&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),P=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=L,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||P===null||(Q=ss(D,P),Q!=null&&mt.push(rl(D,Q,U))),Xt)break;D=D.return}0<mt.length&&(z=new B(z,vt,null,a,F),Y.push({event:z,listeners:mt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(vt=a.relatedTarget||a.fromElement)&&(yi(vt)||vt[_n]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=L,vt=vt?yi(vt):null,vt!==null&&(Xt=c(vt),mt=vt.tag,vt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(B=null,vt=L),B!==vt)){if(mt=An,Q="onMouseLeave",P="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Io,Q="onPointerLeave",P="onPointerEnter",D="pointer"),Xt=B==null?z:Qn(B),U=vt==null?z:Qn(vt),z=new mt(Q,D+"leave",B,a,F),z.target=Xt,z.relatedTarget=U,Q=null,yi(F)===L&&(mt=new mt(P,D+"enter",vt,a,F),mt.target=U,mt.relatedTarget=Xt,Q=mt),Xt=Q,B&&vt)e:{for(mt=B,P=vt,D=0,U=mt;U;U=Na(U))D++;for(U=0,Q=P;Q;Q=Na(Q))U++;for(;0<D-U;)mt=Na(mt),D--;for(;0<U-D;)P=Na(P),U--;for(;D--;){if(mt===P||P!==null&&mt===P.alternate)break e;mt=Na(mt),P=Na(P)}mt=null}else mt=null;B!==null&&qy(Y,z,B,mt,!1),vt!==null&&Xt!==null&&qy(Y,Xt,vt,mt,!0)}}t:{if(z=L?Qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=ap;else if(Ae(z))if(op)lt=U0;else{lt=x0;var Rt=P0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Eo(L.elementType)&&(lt=ap):lt=k0;if(lt&&(lt=lt(e,L))){Ri(Y,lt,a,F);break t}Rt&&Rt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&rr(z,"number",z.value)}switch(Rt=L?Qn(L):window,e){case"focusin":(Ae(Rt)||Rt.contentEditable==="true")&&(aa=Rt,xh=L,No=null);break;case"focusout":No=xh=aa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,pp(Y,a,F);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":pp(Y,a,F)}var ut;if(Jn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Pt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(Pt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Pt&&(ut=Ao()):(Xn=F,sr="value"in Xn?Xn.value:Xn.textContent,Pt=!0)),Rt=ac(L,pt),0<Rt.length&&(pt=new wo(pt,e,null,a,F),Y.push({event:pt,listeners:Rt}),ut?pt.data=ut:(ut=et(a),ut!==null&&(pt.data=ut)))),(ut=m?Te(e,a):xt(e,a))&&(pt=ac(L,"onBeforeInput"),0<pt.length&&(Rt=new wo("onBeforeInput","beforeinput",null,a,F),Y.push({event:Rt,listeners:pt}),Rt.data=ut)),TA(Y,e,L,a,F)}zy(Y,i)})}function rl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ac(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ss(e,a),h!=null&&o.unshift(rl(e,h,f)),h=ss(e,i),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ss(a,f),L!=null&&v.unshift(rl(a,L,b))):h||(L=ss(a,f),L!=null&&v.push(rl(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var wA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(wA,`
`).replace(RA,"")}function Hy(e,i){return i=jy(i),jy(e)===i}function oc(){}function Yt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vn(e,""+o);break;case"className":Kn(e,"class",o);break;case"tabIndex":Kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,o);break;case"style":vo(e,o,f);break;case"data":if(i!=="object"){Kn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Zs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Zs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=oc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ir(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ir(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ch.get(a)||a,ir(e,a,o))}}function ad(e,i,a,o,h,f){switch(a){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ir(e,a,o)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,f,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":b=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,o,F,a,null)}}ns(e,f,E,b,L,v,h,!1),$s(e);return;case"select":Ct("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Ei(e,!!o,i,!1):a!=null&&Ei(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}is(e,o,h,f),$s(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Ct(il[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(Eo(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&ad(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function IA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,F=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&Yt(e,i,z,B,o,Y)}}on(e,v,E,b,L,F,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Yt(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?Ei(e,!!a,z,!1):!!o!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,i,v,h,o,f)}Qt(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Yt(e,i,vt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Yt(e,i,mt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(Eo(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&ad(e,i,Xt,void 0,o,z);for(F in o)z=o[F],B=a[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||ad(e,i,F,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Yt(e,i,P,null,o,z);for(Y in o)z=o[Y],B=a[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Yt(e,i,Y,z,o,B)}var od=null,ld=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cd=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(OA)}:Qy;function OA(e){setTimeout(function(){throw e})}function Tr(e){return e==="head"}function Yy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&sl(v.documentElement),a&2&&sl(v.body),a&4)for(a=v.head,sl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Wr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),dl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);dl(i)}function hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Wr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function MA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function PA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var dd=null;function Xy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function $y(e,i,a){switch(i=lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function sl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);nr(e)}var Dn=new Map,Zy=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=nt.d;nt.d={f:xA,r:kA,D:UA,C:LA,L:zA,m:BA,X:jA,S:qA,M:HA};function xA(){var e=zi.f(),i=tc();return e||i}function kA(e){var i=Fn(e);i!==null&&i.tag===5&&i.type==="form"?yg(i):zi.r(e)}var Oa=typeof document>"u"?null:document;function Wy(e,i,a){var o=Oa;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ze(i,"link",e),ue(i),o.head.appendChild(i)))}}function UA(e){zi.D(e),Wy("dns-prefetch",e,null)}function LA(e,i){zi.C(e,i),Wy("preconnect",e,i)}function zA(e,i,a){zi.L(e,i,a);var o=Oa;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(i){case"style":f=Va(e);break;case"script":f=Ma(e)}Dn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(al(f))||i==="script"&&o.querySelector(ol(f))||(i=o.createElement("link"),ze(i,"link",e),ue(i),o.head.appendChild(i)))}}function BA(e,i){zi.m(e,i);var a=Oa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Dn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Dn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(f)))return}o=a.createElement("link"),ze(o,"link",e),ue(o),a.head.appendChild(o)}}}function qA(e,i,a){zi.S(e,i,a);var o=Oa;if(o&&e){var h=Ze(o).hoistableStyles,f=Va(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(al(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(f))&&md(e,a);var b=v=o.createElement("link");ue(b),ze(b,"link",e),b._p=new Promise(function(L,F){b.onload=L,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function jA(e,i){zi.X(e,i);var a=Oa;if(a&&e){var o=Ze(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(e=A({src:e,async:!0},i),(i=Dn.get(h))&&pd(e,i),f=a.createElement("script"),ue(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HA(e,i){zi.M(e,i);var a=Oa;if(a&&e){var o=Ze(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&pd(e,i),f=a.createElement("script"),ue(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Jy(e,i,a,o){var h=(h=Et.current)?uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=Ze(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var f=Ze(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(al(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),f||GA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=Ze(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+me(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function GA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ze(i,"link",a),ue(i),e.head.appendChild(i))}function Ma(e){return'[src="'+me(e)+'"]'}function ol(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),ze(o,"style",h),cc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Va(a.href);var f=e.querySelector(al(h));if(f)return i.state.loading|=4,i.instance=f,ue(f),f;o=t_(a),(h=Dn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",o),i.state.loading|=4,cc(f,a.precedence,e),i.instance=f;case"script":return f=Ma(a.src),(h=e.querySelector(ol(f)))?(i.instance=h,ue(h),h):(o=a,(h=Dn.get(f))&&(o=A({},a),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),ze(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,cc(o,a.precedence,e));return i.instance}function cc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hc=null;function n_(e,i,a){if(hc===null){var o=new Map,h=hc=new Map;h.set(a,o)}else h=hc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Wr]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ll=null;function QA(){}function KA(e,i,a){if(ll===null)throw Error(s(475));var o=ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Va(a.href),f=e.querySelector(al(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=fc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,ue(f);return}f=e.ownerDocument||e,a=t_(a),(h=Dn.get(h))&&md(a,h),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=fc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function YA(){if(ll===null)throw Error(s(475));var e=ll;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function gd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,i.forEach(XA,e),dc=null,fc.call(e))}function XA(e,i){if(!(i.state.loading&4)){var a=dc.get(e);if(a)var o=a.get(null);else{a=new Map,dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ul={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function $A(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function s_(e,i,a,o,h,f,v,E,b,L,F,Y){return e=new $A(e,i,a,v,E,b,L,Y),i=1,f===!0&&(i|=24),f=un(3,null,null,i),e.current=f,f.stateNode=e,i=$h(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},tf(f),e}function a_(e){return e?(e=ca,e):ca}function o_(e,i,a,o,h,f){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=lr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ur(e,o,i),a!==null&&(mn(a,e,i),zo(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function yd(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=ua(e,67108864);i!==null&&mn(i,e,67108864),yd(e,67108864)}}var mc=!0;function ZA(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,_d(e,i,a,o)}finally{nt.p=f,G.T=h}}function WA(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,_d(e,i,a,o)}finally{nt.p=f,G.T=h}}function _d(e,i,a,o){if(mc){var h=vd(o);if(h===null)sd(e,i,o,pc,a),h_(e,o);else if(tS(h,e,i,a,o))o.stopPropagation();else if(h_(e,o),i&4&&-1<JA.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Ge(v);E.entanglements[1]|=b,v&=~b}si(f),(Gt&6)===0&&(Wu=yn()+500,nl(0))}}break;case 13:E=ua(f,2),E!==null&&mn(E,f,2),tc(),yd(f,2)}if(f=vd(o),f===null&&sd(e,i,o,pc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,i,o,null,a)}}function vd(e){return e=En(e),Ed(e)}var pc=null;function Ed(e){if(pc=null,e=yi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return pc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ah()){case ao:return 2;case js:return 8;case Kr:case Sh:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Td=!1,Ar=null,Sr=null,br=null,cl=new Map,hl=new Map,wr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(i.pointerId)}}function fl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function tS(e,i,a,o,h){switch(i){case"focusin":return Ar=fl(Ar,e,i,a,o,h),!0;case"dragenter":return Sr=fl(Sr,e,i,a,o,h),!0;case"mouseover":return br=fl(br,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,i,a,o,h)),!0}return!1}function f_(e){var i=yi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,tu(e.priority,function(){if(a.tag===13){var o=dn();o=Ji(o);var h=ua(a,o);h!==null&&mn(h,a,o),yd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ti=o,a.target.dispatchEvent(o),Ti=null}else return i=Fn(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){gc(e)&&a.delete(i)}function eS(){Td=!1,Ar!==null&&gc(Ar)&&(Ar=null),Sr!==null&&gc(Sr)&&(Sr=null),br!==null&&gc(br)&&(br=null),cl.forEach(d_),hl.forEach(d_)}function yc(e,i){e.blockedOn===i&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eS)))}var _c=null;function m_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Ed(o||a)===null)continue;break}var f=Fn(a);f!==null&&(e.splice(i,3),i-=3,Ef(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function dl(e){function i(b){return yc(b,e)}Ar!==null&&yc(Ar,e),Sr!==null&&yc(Sr,e),br!==null&&yc(br,e),cl.forEach(i),hl.forEach(i);for(var a=0;a<wr.length;a++){var o=wr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[de]||null;if(typeof f=="function")v||m_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[de]||null)E=v.formAction;else if(Ed(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),m_(a)}}}function Ad(e){this._internalRoot=e}vc.prototype.render=Ad.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();o_(a,o,e,i,null,null)},vc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;o_(e.current,2,null,e,null,null),tc(),i[_n]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=tr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,e),a===0&&f_(e)}};var p_=t.version;if(p_!=="19.1.1")throw Error(s(527,p_,"19.1.1"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ae=Ec.inject(nS),Ht=Ec}catch{}}return pl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Og,f=Vg,v=Mg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,o,h,f,v,E,null),e[_n]=i.current,rd(e),new Ad(i)},pl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Og,v=Vg,E=Mg,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=s_(e,1,!0,i,a??null,o,h,f,v,E,b,L),i.context=a_(null),a=i.current,o=dn(),o=Ji(o),h=lr(o),h.callback=null,ur(a,h,o),a=o,i.current.lanes=a,gi(i,a),si(i),e[_n]=i.current,rd(e),new vc(i)},pl.version="19.1.1",pl}var w_;function dS(){if(w_)return wd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=fS(),wd.exports}var mS=dS();const pS=aE(mS),gS=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},yS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],p=r[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,A=c>>2,I=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,H=_&63;g||(H=64,d||(N=64)),s.push(n[A],n[I],n[N],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(oE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||I==null)throw new _S;const N=c<<2|p>>4;if(s.push(N),_!==64){const H=p<<4&240|_>>2;if(s.push(H),I!==64){const j=_<<6&192|I;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const t=oE(r);return lE.encodeByteArray(t,!0)},Uc=function(r){return vS(r).replace(/\./g,"")},uE=function(r){try{return lE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uE(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return gS()||TS()||AS()||SS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>rh()?.emulatorHosts?.[r],bS=r=>{const t=cE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},hE=()=>rh()?.config,fE=r=>rh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(n)),Uc(JSON.stringify(d)),""].join(".")}const Sl={};function IS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function CS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let I_=!1;function mE(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Sl[r]===t||Sl[r]||I_)return;Sl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=IS().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{I_=!0,d()},N}function A(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function I(){const N=CS(s),H=n("text"),j=document.getElementById(H)||document.createElement("span"),J=n("learnmore"),K=document.getElementById(J)||document.createElement("a"),ot=n("preprendIcon"),rt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;p(ct),A(K,J);const Vt=_();g(rt,ot),ct.append(rt,j,K,Vt),document.body.appendChild(ct)}c?(j.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function NS(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=LS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?zS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Yi(l,p,s)}}function zS(r,t){return r.replace(BS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const BS=/\{\$([^}]+)}/g;function qS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(C_(c)&&C_(d)){if(!Vs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function jS(r,t){const n=new HS(r,t);return n.subscribe.bind(n)}class HS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new wS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(r){return r===Is?void 0:r}function KS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const XS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},$S=Dt.INFO,ZS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},WS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const JS=(r,t)=>t.some(n=>r instanceof n);let D_,N_;function t1(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Hd=new WeakMap,gE=new WeakMap,Nd=new WeakMap,gm=new WeakMap;function n1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Mr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&pE.set(n,r)}).catch(()=>{}),gm.set(t,r),t}function i1(r){if(Hd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Gd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||gE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function r1(r){Gd=r(Gd)}function s1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Od(this),t,...n);return gE.set(s,t.sort?t.sort():[t]),Mr(s)}:e1().includes(r)?function(...t){return r.apply(Od(this),t),Mr(pE.get(this))}:function(...t){return Mr(r.apply(Od(this),t))}}function a1(r){return typeof r=="function"?s1(r):(r instanceof IDBTransaction&&i1(r),JS(r,t1())?new Proxy(r,Gd):r)}function Mr(r){if(r instanceof IDBRequest)return n1(r);if(Nd.has(r))return Nd.get(r);const t=a1(r);return t!==r&&(Nd.set(r,t),gm.set(t,r)),t}const Od=r=>gm.get(r);function o1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Mr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Mr(d.result),g.oldVersion,g.newVersion,Mr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Vd=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=u1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||l1.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&g.done]))[0]};return Vd.set(t,c),c}r1(r=>({...r,get:(t,n,s)=>O_(t,n)||r.get(t,n,s),has:(t,n)=>!!O_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h1(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",V_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new pm("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",p1="@firebase/app-check-compat",g1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",w1="@firebase/installations-compat",R1="@firebase/messaging",I1="@firebase/messaging-compat",C1="@firebase/performance",D1="@firebase/performance-compat",N1="@firebase/remote-config",O1="@firebase/remote-config-compat",V1="@firebase/storage",M1="@firebase/storage-compat",P1="@firebase/firestore",x1="@firebase/ai",k1="@firebase/firestore-compat",U1="firebase",L1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",z1={[Fd]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[g1]:"fire-app-check",[p1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[w1]:"fire-iid-compat",[R1]:"fire-fcm",[I1]:"fire-fcm-compat",[C1]:"fire-perf",[D1]:"fire-perf-compat",[N1]:"fire-rc",[O1]:"fire-rc-compat",[V1]:"fire-gcs",[M1]:"fire-gcs-compat",[P1]:"fire-fst",[k1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[U1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,B1=new Map,Kd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ga(r){const t=r.name;if(Kd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const n of Lc.values())M_(n,r);for(const n of B1.values())M_(n,r);return!0}function ym(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new zl("app","Firebase",q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=L1;function yE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Qd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Pr.create("bad-app-name",{appName:String(l)});if(n||(n=hE()),!n)throw Pr.create("no-options");const c=Lc.get(l);if(c){if(Vs(n,c.options)&&Vs(s,c.config))return c;throw Pr.create("duplicate-app",{appName:l})}const d=new YS(l);for(const g of Kd.values())d.addComponent(g);const p=new j1(n,s,d);return Lc.set(l,p),p}function _E(r=Qd){const t=Lc.get(r);if(!t&&r===Qd&&hE())return yE();if(!t)throw Pr.create("no-app",{appName:r});return t}function xr(r,t,n){let s=z1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}Ga(new Ms(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",G1=1,Dl="firebase-heartbeat-store";let Md=null;function vE(){return Md||(Md=o1(H1,G1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),Md}async function F1(r){try{const n=(await vE()).transaction(Dl),s=await n.objectStore(Dl).get(EE(r));return await n.done,s}catch(t){if(t instanceof Yi)Gi.warn(t.message);else{const n=Pr.create("idb-get",{originalErrorMessage:t?.message});Gi.warn(n.message)}}}async function P_(r,t){try{const s=(await vE()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,EE(r)),await s.done}catch(n){if(n instanceof Yi)Gi.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(s.message)}}}function EE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=1024,K1=30;class Y1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>K1){const l=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:n,unsentEntries:s}=X1(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Gi.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function X1(r,t=Q1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),k_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),k_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function k_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function Z1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){Ga(new Ms("platform-logger",t=>new c1(t),"PRIVATE")),Ga(new Ms("heartbeat",t=>new Y1(t),"PRIVATE")),xr(Fd,V_,r),xr(Fd,V_,"esm2020"),xr("fire-js","")}W1("");var J1="firebase",tb="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(J1,tb,"app");function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eb=TE,AE=new zl("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new pm("@firebase/auth");function nb(r,...t){zc.logLevel<=Dt.WARN&&zc.warn(`Auth (${Wa}): ${r}`,...t)}function Ic(r,...t){zc.logLevel<=Dt.ERROR&&zc.error(`Auth (${Wa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(r,...t){throw vm(r,...t)}function qn(r,...t){return vm(r,...t)}function _m(r,t,n){const s={...eb(),[t]:n};return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Hi(r){return _m(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ib(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Vn(r,"argument-error"),_m(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return AE.create(r,...t)}function gt(r,t,...n){if(!r)throw vm(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ic(t),new Error(t)}function Fi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){return typeof self<"u"&&self.location?.href||""}function rb(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rb()||VS()||"connection"in navigator)?navigator.onLine:!0}function ab(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=DS()||MS()}get(){return sb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ub=new ql(3e4,6e4);function Xi(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function $i(r,t,n,s,l={}){return bE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Bl({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:g,...c};return OS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),SE.fetch()(await wE(r,r.config.apiHost,n,p),_)})}async function bE(r,t,n){r._canInitEmulator=!1;const s={...ob,...t};try{const l=new hb(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Tc(r,"user-disabled",d);const A=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _m(r,A,_);Vn(r,A)}}catch(l){if(l instanceof Yi)throw l;Vn(r,"network-request-failed",{message:String(l)})}}async function jl(r,t,n,s,l={}){const c=await $i(r,t,n,s,l);return"mfaPendingCredential"in c&&Vn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function wE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Em(r.config,l):`${r.config.apiScheme}://${l}`;return lb.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),ub.get())})}}function Tc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=qn(r,t,s);return l.customData._tokenResponse=n,l}function L_(r){return r!==void 0&&r.enterprise!==void 0}class fb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return cb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function db(r,t){return $i(r,"GET","/v2/recaptchaConfig",Xi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(r,t){return $i(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return $i(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pb(r,t=!1){const n=je(r),s=await n.getIdToken(t),l=Tm(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:bl(Pd(l.auth_time)),issuedAtTime:bl(Pd(l.iat)),expirationTime:bl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=uE(n);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l?.toString()),null}}function z_(r){const t=Tm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&gb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function gb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){const t=r.auth,n=await r.getIdToken(),s=await Nl(r,Bc(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?RE(l.providerUserInfo):[],d=vb(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=p?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function _b(r){const t=je(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function RE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(r,t){const n=await bE(r,{},async()=>{const s=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await wE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(g.credentials="include"),SE.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tb(r,t){return $i(r,"POST","/v2/accounts:revokeToken",Xi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=z_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await Eb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new La;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pb(this,t)}reload(){return _b(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await Nl(this,mb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:I,emailVerified:N,isAnonymous:H,providerData:j,stsTokenManager:J}=n;gt(I&&J,t,"internal-error");const K=La.fromJSON(this.name,J);gt(typeof I=="string",t,"internal-error"),Ir(s,t.name),Ir(l,t.name),gt(typeof N=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),Ir(c,t.name),Ir(d,t.name),Ir(p,t.name),Ir(g,t.name),Ir(_,t.name),Ir(A,t.name);const ot=new zn({uid:I,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:K,createdAt:_,lastLoginAt:A});return j&&Array.isArray(j)&&(ot.providerData=j.map(rt=>({...rt}))),g&&(ot._redirectEventId=g),ot}static async _fromIdTokenResponse(t,n,s=!1){const l=new La;l.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await qc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?RE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new La;p.updateFromIdToken(s);const g=new zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function ji(r){Fi(r instanceof Function,"Expected a class definition");let t=B_.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,B_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IE.type="NONE";const q_=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,t,n){return`firebase:${r}:${t}:${n}`}class za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Cc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Cc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Bc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new za(ji(q_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ji(q_);const d=Cc(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const N=await Bc(t,{idToken:A}).catch(()=>{});if(!N)break;I=await zn._fromGetAccountInfoResponse(t,N,A)}else I=zn._fromJSON(t,A);_!==c&&(p=I),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new za(c,t,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new za(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ME(t))return"Blackberry";if(PE(t))return"Webos";if(DE(t))return"Safari";if((t.includes("chrome/")||NE(t))&&!t.includes("edge/"))return"Chrome";if(VE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function CE(r=$e()){return/firefox\//i.test(r)}function DE(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NE(r=$e()){return/crios\//i.test(r)}function OE(r=$e()){return/iemobile/i.test(r)}function VE(r=$e()){return/android/i.test(r)}function ME(r=$e()){return/blackberry/i.test(r)}function PE(r=$e()){return/webos/i.test(r)}function Am(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Ab(r=$e()){return Am(r)&&!!window.navigator?.standalone}function Sb(){return PS()&&document.documentMode===10}function xE(r=$e()){return Am(r)||VE(r)||PE(r)||ME(r)||/windows phone/i.test(r)||OE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,t=[]){let n;switch(r){case"Browser":n=j_($e());break;case"Worker":n=`${j_($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(r,t={}){return $i(r,"GET","/v2/passwordPolicy",Xi(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=6;class Ib{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Bc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ab()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gn(this.app))return Promise.reject(Hi(this));const n=t?je(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wb(this),n=new Ib(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Tb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zi(r){return je(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Db(r){sh=r}function UE(r){return sh.loadJS(r)}function Nb(){return sh.recaptchaEnterpriseScript}function Ob(){return sh.gapiScript}function Vb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Mb{constructor(){this.enterprise=new Pb}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Pb{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const xb="recaptcha-enterprise",LE="NO_RECAPTCHA";class kb{constructor(t){this.type=xb,this.auth=Zi(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{db(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new fb(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;L_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(LE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mb().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!n&&L_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Nb();g.length!==0&&(g+=p),UE(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function G_(r,t,n,s=!1,l=!1){const c=new kb(r);let d;if(l)d=LE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jc(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G_(r,t,n,n==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G_(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(r,t){const n=ym(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Vs(c,t??{}))return l;Vn(l,"already-initialized")}return n.initialize({options:t})}function Lb(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function zb(r,t,n){const s=Zi(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=zE(t),{host:d,port:p}=Bb(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Vs(_,s.config.emulator)&&Vs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Za(d)?(dE(`${c}//${d}${g}`),mE("Auth",!0)):qb()}function zE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Bb(r){const t=zE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:F_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:F_(d)}}}function F_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}async function jb(r,t){return $i(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(r,t){return jl(r,"POST","/v1/accounts:signInWithPassword",Xi(r,t))}async function BE(r,t){return $i(r,"POST","/v1/accounts:sendOobCode",Xi(r,t))}async function Gb(r,t){return BE(r,t)}async function Fb(r,t){return BE(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(r,t){return jl(r,"POST","/v1/accounts:signInWithEmailLink",Xi(r,t))}async function Kb(r,t){return jl(r,"POST","/v1/accounts:signInWithEmailLink",Xi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Sm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ol(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ol(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jc(t,n,"signInWithPassword",Hb);case"emailLink":return Qb(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jc(t,s,"signUpPassword",jb);case"emailLink":return Kb(t,{idToken:n,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,t){return jl(r,"POST","/v1/accounts:signInWithIdp",Xi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="http://localhost";class Ps extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new Ps(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Ba(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ba(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ba(t,n)}buildRequest(){const t={requestUri:Yb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $b(r){const t=yl(_l(r)).link,n=t?yl(_l(t)).deep_link_id:null,s=yl(_l(r)).deep_link_id;return(s?yl(_l(s)).link:null)||s||n||t||r}class bm{constructor(t){const n=yl(_l(t)),s=n.apiKey??null,l=n.oobCode??null,c=Xb(n.mode??null);gt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$b(t);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(t,n){return Ol._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=bm.parseLink(n);return gt(s,"argument-error"),Ol._fromEmailAndCode(t,s.code,s.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Hl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Hl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Hl{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(r,t){return jl(r,"POST","/v1/accounts:signUp",Xi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await zn._fromIdTokenResponse(t,s,l),d=Q_(s);return new xs({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Q_(s);return new xs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Yi{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Hc(t,n,s,l)}}function qE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,s):c})}async function Wb(r,t,n=!1){const s=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(r,t,n=!1){const{auth:s}=r;if(gn(s.app))return Promise.reject(Hi(s));const l="reauthenticate";try{const c=await Nl(r,qE(s,l,t,r),n);gt(c.idToken,s,"internal-error");const d=Tm(c.idToken);gt(d,s,"internal-error");const{sub:p}=d;return gt(r.uid===p,s,"user-mismatch"),xs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(r,t,n=!1){if(gn(r.app))return Promise.reject(Hi(r));const s="signIn",l=await qE(r,s,t),c=await xs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function tw(r,t){return jE(Zi(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(r){const t=Zi(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ew(r,t,n){const s=Zi(r);await jc(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Fb)}async function nw(r,t,n){if(gn(r.app))return Promise.reject(Hi(r));const s=Zi(r),d=await jc(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zb).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&HE(r),g}),p=await xs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function iw(r,t,n){return gn(r.app)?Promise.reject(Hi(r)):tw(je(r),Ja.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HE(r),s})}async function rw(r,t){const n=je(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:c}=await Gb(n.auth,l);c!==r.email&&await r.reload()}function sw(r,t,n,s){return je(r).onIdTokenChanged(t,n,s)}function aw(r,t,n){return je(r).beforeAuthStateChanged(t,n)}function ow(r,t,n,s){return je(r).onAuthStateChanged(t,n,s)}function xd(r){return je(r).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1e3,uw=10;class FE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,uw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FE.type="LOCAL";const cw=FE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QE.type="SESSION";const KE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,c)),g=await hw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Rm("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const N=I;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function dw(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function gw(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",yw=1,Fc="firebaseLocalStorage",$E="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function _w(){const r=indexedDB.deleteDatabase(XE);return new Gl(r).toPromise()}function $d(){const r=indexedDB.open(XE,yw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fc,{keyPath:$E})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fc)?t(s):(s.close(),await _w(),t(await $d()))})})}async function K_(r,t,n){const s=oh(r,!0).put({[$E]:t,value:n});return new Gl(s).toPromise()}async function vw(r,t){const n=oh(r,!1).get(t),s=await new Gl(n).toPromise();return s===void 0?null:s.value}function Y_(r,t){const n=oh(r,!0).delete(t);return new Gl(n).toPromise()}const Ew=800,Tw=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Tw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mw(),!this.activeServiceWorker)return;this.sender=new fw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await K_(t,Gc,"1"),await Y_(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>vw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=oh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const Aw=ZE;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r,t){return t?ji(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ba(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Sw(r){return jE(r.auth,new Im(r),r.bypassAuthState)}function bw(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),Jb(n,new Im(r),r.bypassAuthState)}async function ww(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),Wb(n,new Im(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Sw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return bw;default:Vn(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new ql(2e3,1e4);async function Iw(r,t,n){if(gn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=Zi(r);ib(r,t,wm);const l=WE(s,n);return new Cs(s,"signInViaPopup",t,l).executeNotNull()}class Cs extends JE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="pendingRedirect",Dc=new Map;class Dw extends JE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await Nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nw(r,t){const n=Mw(t),s=Vw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Ow(r,t){Dc.set(r._key(),t)}function Vw(r){return ji(r._redirectPersistence)}function Mw(r){return Cc(Cw,r.config.apiKey,r.name)}async function Pw(r,t,n=!1){if(gn(r.app))return Promise.reject(Hi(r));const s=Zi(r),l=WE(s,t),d=await new Dw(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!tT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function tT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(r,t={}){return $i(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function qw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Lw(r);for(const n of t)try{if(jw(n))return}catch{}Vn(r,"unauthorized-domain")}function jw(r){const t=Yd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Bw.test(n))return!1;if(zw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new ql(3e4,6e4);function $_(){const r=oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Gw(r){return new Promise((t,n)=>{function s(){$_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(qn(r,"network-request-failed"))},timeout:Hw.get()})}if(oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(oi().gapi?.load)s();else{const l=Vb("iframefcb");return oi()[l]=()=>{gapi.load?s():n(qn(r,"network-request-failed"))},UE(`${Ob()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function Fw(r){return Nc=Nc||Gw(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new ql(5e3,15e3),Kw="__/auth/iframe",Yw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zw(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Em(t,Yw):`https://${r.config.authDomain}/${Kw}`,s={apiKey:t.apiKey,appName:r.name,v:Wa},l=$w.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Bl(s).slice(1)}`}async function Ww(r){const t=await Fw(r),n=oi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:Zw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=qn(r,"network-request-failed"),p=oi().setTimeout(()=>{c(d)},Qw.get());function g(){oi().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tR=500,eR=600,nR="_blank",iR="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rR(r,t,n,s=tR,l=eR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...Jw,width:s.toString(),height:l.toString(),top:c,left:d},_=$e().toLowerCase();n&&(p=NE(_)?nR:n),CE(_)&&(t=t||iR,g.scrollbars="yes");const A=Object.entries(g).reduce((N,[H,j])=>`${N}${H}=${j},`,"");if(Ab(_)&&p!=="_self")return sR(t||"",p),new Z_(null);const I=window.open(t||"",p,A);gt(I,r,"popup-blocked");try{I.focus()}catch{}return new Z_(I)}function sR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="__/auth/handler",oR="emulator/auth/handler",lR=encodeURIComponent("fac");async function W_(r,t,n,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Wa,eventId:l};if(t instanceof wm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",qS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Hl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await r._getAppCheckToken(),_=g?`#${lR}=${encodeURIComponent(g)}`:"";return`${uR(r)}?${Bl(p).slice(1)}${_}`}function uR({config:r}){return r.emulator?Em(r,oR):`https://${r.authDomain}/${aR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class cR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=Pw,this._overrideRedirectResult=Ow}async _openPopup(t,n,s,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(t,n,s,Yd(),l);return rR(t,c,Rm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await W_(t,n,s,Yd(),l);return dw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Fi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Ww(t),s=new kw(t);return n.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&n(!!c),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return xE()||DE()||Am()}}const hR=cR;var J_="@firebase/auth",tv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mR(r){Ga(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(r)},_=new Cb(s,l,c,g);return Lb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ga(new Ms("auth-internal",t=>{const n=Zi(t.getProvider("auth").getImmediate());return(s=>new fR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(J_,tv,dR(r)),xr(J_,tv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=300,gR=fE("authIdTokenMaxAge")||pR;let ev=null;const yR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gR)return;const l=n?.token;ev!==l&&(ev=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _R(r=_E()){const t=ym(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Ub(r,{popupRedirectResolver:hR,persistence:[Aw,cw,KE]}),s=fE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=yR(c.toString());aw(n,d,()=>d(n.currentUser)),sw(n,p=>d(p))}}const l=cE("auth");return l&&zb(n,`http://${l}`),n}function vR(){return document.getElementsByTagName("head")?.[0]??document}Db({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=qn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",vR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mR("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,eT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(O,M,x){for(var w=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)w[Pe-2]=arguments[Pe];return S.prototype[M].apply(O,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],M=V.g[2];var x=V.g[3],w=S+(x^R&(M^x))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[2]+606105819&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[6]+2821735955&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[10]+4294925233&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[14]+2792965006&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^x&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[11]+643717713&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[15]+3634488961&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[3]+4107603335&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[7]+1735328473&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^x)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[11]+1839030562&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[7]+4139469664&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[3]+3572445317&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[15]+530742520&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~x))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[14]+2878612391&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[10]+4293915773&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[6]+2734768916&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[2]+718787259&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,O=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=R;)l(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<S;)if(O[M++]=V.charCodeAt(x++),M==this.blockSize){l(this,O),M=0;break}}else for(;x<S;)if(O[M++]=V[x++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)V[R++]=this.g[S]>>>O&255;return V};function c(V,S){var R=p;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function d(V,S){this.h=S;for(var R=[],O=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;O&&x==S||(R[M]=x,O=!1)}this.g=R}var p={};function g(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return K(_(-V));for(var S=[],R=1,O=0;V>=R;O++)S[O]=V/R|0,R*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return K(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),O=I,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+x),S);8>x?(x=_(Math.pow(S,x)),O=O.j(x).add(_(w))):(O=O.j(R),O=O.add(_(w)))}return O}var I=g(0),N=g(1),H=g(16777216);r=d.prototype,r.m=function(){if(J(this))return-K(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);V+=(0<=O?O:4294967296+O)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(j(this))return"0";if(J(this))return"-"+K(this).toString(V);for(var S=_(Math.pow(V,6)),R=this,O="";;){var M=Vt(R,S).g;R=ot(R,M.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,j(R))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function j(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function J(V){return V.h==-1}r.l=function(V){return V=ot(this,V),J(V)?-1:j(V)?0:1};function K(V){for(var S=V.g.length,R=[],O=0;O<S;O++)R[O]=~V.g[O];return new d(R,~V.h).add(N)}r.abs=function(){return J(this)?K(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],O=0,M=0;M<=S;M++){var x=O+(this.i(M)&65535)+(V.i(M)&65535),w=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=w>>>16,x&=65535,w&=65535,R[M]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(V,S){return V.add(K(S))}r.j=function(V){if(j(this)||j(V))return I;if(J(this))return J(V)?K(this).j(K(V)):K(K(this).j(V));if(J(V))return K(this.j(K(V)));if(0>this.l(H)&&0>V.l(H))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var x=this.i(O)>>>16,w=this.i(O)&65535,Pe=V.i(M)>>>16,se=V.i(M)&65535;R[2*O+2*M]+=w*se,rt(R,2*O+2*M),R[2*O+2*M+1]+=x*se,rt(R,2*O+2*M+1),R[2*O+2*M+1]+=w*Pe,rt(R,2*O+2*M+1),R[2*O+2*M+2]+=x*Pe,rt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function rt(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ct(V,S){this.g=V,this.h=S}function Vt(V,S){if(j(S))throw Error("division by zero");if(j(V))return new ct(I,I);if(J(V))return S=Vt(K(V),S),new ct(K(S.g),K(S.h));if(J(S))return S=Vt(V,K(S)),new ct(K(S.g),S.h);if(30<V.g.length){if(J(V)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;0>=O.l(V);)R=_t(R),O=_t(O);var M=Mt(R,1),x=Mt(O,1);for(O=Mt(O,2),R=Mt(R,2);!j(O);){var w=x.add(O);0>=w.l(V)&&(M=M.add(R),x=w),O=Mt(O,1),R=Mt(R,1)}return S=ot(V,M.j(S)),new ct(M,S)}for(M=I;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=_(R),w=x.j(S);J(w)||0<w.l(V);)R-=O,x=_(R),w=x.j(S);j(x)&&(x=N),M=M.add(x),V=ot(V,w)}return new ct(M,V)}r.A=function(V){return Vt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&V.i(O);return new d(R,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|V.i(O);return new d(R,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^V.i(O);return new d(R,this.h^V.h)};function _t(V){for(var S=V.g.length+1,R=[],O=0;O<S;O++)R[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(R,V.h)}function Mt(V,S){var R=S>>5;S%=32;for(var O=V.g.length-R,M=[],x=0;x<O;x++)M[x]=0<S?V.i(x+R)>>>S|V.i(x+R+1)<<32-S:V.i(x+R);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,eT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,kr=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nT,vl,iT,Oc,Zd,rT,sT,aT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,k={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function N(u,m,y){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,N.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function j(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,k,q){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return m.prototype[k].apply(T,et)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function K(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const k=u.length||0,q=T.length||0;u.length=k+q;for(let et=0;et<q;et++)u[k+et]=T[et]}else u.push(T)}}class ot{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var _t=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Mt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){p.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,y){const T=se.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var se=new ot(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,zt=new Pe,C=()=>{const u=p.Promise.resolve(void 0);nt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){x(y)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u})();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Vt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}j(wt,W);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Hn(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Wi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,y,T,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Fr(u,m,T,k);return-1<et?(m=u[et],y||(m.fa=!1)):(m=new Hn(m,this.src,q,!!T,k),m.fa=y,u.push(m)),m};function Gr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(Wi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Fr(u,m,y,T){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return k}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),so={};function Zl(u,m,y,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Zl(u,m[q],y,T,k);return null}return y=Wl(y),u&&u[Ie]?u.K(m,y,_(T)?!!T.capture:!1,k):yn(u,m,y,!1,T,k)}function yn(u,m,y,T,k,q){if(!m)throw Error("Invalid event type");var et=_(k)?!!k.capture:!!k,Pt=Hs(u);if(Pt||(u[Qr]=Pt=new mi(u)),y=Pt.add(m,y,T,et,q),y.proxy)return y;if(T=Ah(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)dt||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Kr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ah(){function u(y){return m.call(u.src,u.listener,y)}const m=Sh;return u}function ao(u,m,y,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)ao(u,m[q],y,T,k);else T=_(T)?!!T.capture:!!T,y=Wl(y),u&&u[Ie]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Fr(q,y,T,k),-1<y&&(Wi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Fr(m,y,T,k)),(y=-1<u?m[u]:null)&&js(y))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])Gr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Kr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Hs(m))?(Gr(y,u),y.h==0&&(y.src=null,m[Qr]=null)):Wi(u)}}}function Kr(u){return u in so?so[u]:so[u]="on"+u}function Sh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&js(u),u=y.call(T,m)}return u}function Hs(u){return u=u[Qr],u instanceof mi?u:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function ae(){it.call(this),this.i=new mi(this),this.M=this,this.F=null}j(ae,it),ae.prototype[Ie]=!0,ae.prototype.removeEventListener=function(u,m,y,T){ao(this,u,m,y,T)};function Ht(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),O(m,k)}if(k=!0,y)for(var q=y.length-1;0<=q;q--){var et=m.g=y[q];k=an(et,T,!0,m)&&k}if(et=m.g=u,k=an(et,T,!0,m)&&k,k=an(et,T,!1,m)&&k,y)for(q=0;q<y.length;q++)et=m.g=y[q],k=an(et,T,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Wi(y[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ae.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function an(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==y){var Pt=et.listener,Te=et.ha||et.src;et.fa&&Gr(u.i,et),k=Pt.call(Te,T)!==!1&&k}}return k&&!T.defaultPrevented}function Ge(u,m,y){if(typeof u=="function")y&&(u=N(u,y));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Jl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bh extends it{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){it.call(this),this.h=u,this.g={}}j(Yr,it);var Xr=[];function $r(u){Mt(u.g,function(m,y){this.g.hasOwnProperty(y)&&js(m)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),$r(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=p.JSON.stringify,Gs=p.JSON.parse,Zr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function lo(){}lo.prototype.h=null;function uo(u){return u.h||(u.h=u.i())}function co(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){W.call(this,"d")}j(gi,W);function ho(){W.call(this,"c")}j(ho,W);var Gn={},fo=null;function Ji(){return fo=fo||new ae}Gn.La="serverreachability";function Fs(u){W.call(this,Gn.La,u)}j(Fs,W);function tr(u){const m=Ji();Ht(m,new Fs(m))}Gn.STAT_EVENT="statevent";function tu(u,m){W.call(this,Gn.STAT_EVENT,u),this.stat=m}j(tu,W);function ee(u){const m=Ji();Ht(m,new tu(m,u))}Gn.Ma="timingevent";function Ee(u,m){W.call(this,Gn.Ma,u),this.size=m}j(Ee,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function mo(u,m,y,T,k,q){u.info(function(){if(u.g)if(q)for(var et="",Pt=q.split("&"),Te=0;Te<Pt.length;Te++){var xt=Pt[Te].split("=");if(1<xt.length){var De=xt[0];xt=xt[1];var Ae=De.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(De+"="+xt+"&"):et+(De+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+et})}function wh(u,m,y,T,k,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+et})}function er(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wr(u,y)+(T?" "+T:"")})}function eu(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Wr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<k.length;et++)k[et]=""}}}}return Mn(y)}catch{return m}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Qn(){}j(Qn,lo),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Fn=new Qn;function Ze(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var po={},Qs={};function Pn(u,m,y){u.L=1,u.v=is(on(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Jr(u),u.A=on(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),To(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ue,u.g=yu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new bh(N(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Xr[0]=k.toString()),k=Xr);for(var q=0;q<k.length;q++){var et=Zl(y,k[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),mo(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ri?tr(3):tr(2)),ir(this);var y=this.g.Z();this.X=y;e:if(nu(this)){var T=uu(this.g);u="";var k=T.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Kn(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,wh(this.i,this.u,this.A,this.l,this.R,Ae,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Te=this.g;if((Pt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Pt)){var xt=Pt;break e}}xt=null}if(y=xt)er(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,y);else{this.o=!1,this.s=3,ee(12),xe(this),Kn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<et.length;)if(ke=iu(this,et),ke==Qs){Ae==4&&(this.s=4,ee(14),y=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==po){this.s=4,ee(15),er(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else er(this.i,this.l,ke,null),ts(this,ke);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,ee(16),y=!1),this.o=this.o&&y,!y)er(this.i,this.l,et,"[Invalid Chunked Response]"),xe(this),Kn(this);else if(0<et.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),hs(De),De.M=!0,ee(11))}}else er(this.i,this.l,et,null),ts(this,et);Ae==4&&xe(this),this.o&&!this.J&&(Ae==4?mu(this.j,this):(this.o=!1,Jr(this)))}else Nh(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),xe(this),Kn(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function iu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Qs:(y=Number(m.substring(y,T)),isNaN(y)?po:(T+=1,T+y>m.length?Qs:(m=m.slice(T,T+y),u.C=T+y,m)))}Ze.prototype.cancel=function(){this.J=!0,xe(this)};function Jr(u){u.S=Date.now()+u.I,ru(u,u.I)}function ru(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(N(u.ba,u),m)}function ir(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(eu(this.i,this.A),this.L!=2&&(tr(),ee(17)),xe(this),this.s=2,Kn(this)):ru(this,this.S-u)};function Kn(u){u.j.G==0||u.J||mu(u.j,u)}function xe(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,$r(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ts(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||go(y.h,u))){if(!u.K&&go(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ra(y),na(y);else break t;Ro(y),ee(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(N(y.Za,y),6e3));if(1>=Ys(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&ra(y),!rt(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let xt=k[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const De=xt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Ae=xt[4];Ae!=null&&(y.Aa=Ae,y.j.info("SVER="+y.Aa));const Ri=xt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const ti=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var q=T.h;q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xs(q,q.h),q.h=null))}if(T.D){const Co=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(T.ya=Co,Qt(T.I,T.D,Co))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var et=u;if(T.qa=gu(T,T.J?T.ia:null,T.W),et.K){We(T.h,et);var Pt=et,Te=T.L;Te&&(Pt.I=Te),Pt.B&&(ir(Pt),Jr(Pt)),T.g=et}else fu(T);0<y.i.length&&ia(y)}else xt[0]!="stop"&&xt[0]!="close"||wi(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?wi(y,7):bo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}tr(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ys(u){return u.h?1:u.g?u.g.size:0}function go(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xs(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function Rh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function $s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function _o(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=$s(u),T=Rh(u),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],y&&y[q],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),k=null;if(0<=T){var q=u[y].substring(0,T);k=u[y].substring(T+1)}else q=u[y];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.s),this.l=u.l;var m=u.i,y=new Ti;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ei(this,y),this.m=u.m}else u&&(m=String(u).match(es))?(this.h=!1,ns(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),rr(this,m[4]),this.l=vn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(rs(m,vo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,vo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rs(y,y.charAt(0)=="/"?Ch:Eo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rs(y,Zs)),u.join("")};function on(u){return new me(u)}function ns(u,m,y){u.j=y?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,y){m instanceof Ti?(u.i=m,ou(u.i,u.h)):(y||(m=rs(m,Dh)),u.i=new Ti(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function is(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,au),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vo=/[#\/\?@]/g,Eo=/[#\?:]/g,Ch=/[#\?]/g,Dh=/[#\?@]/g,Zs=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Ih(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ti.prototype,r.add=function(u,m){En(this),this.i=null,u=Yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ai(u,m){En(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return En(u),m=Yn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const k=u[T];for(let q=0;q<k.length;q++)y.push(m[T])}return y},r.V=function(u){En(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return En(this),this.i=null,u=Yn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function To(u,m,y){Ai(u,m),0<y.length&&(u.i=null,u.g.set(Yn(u,m),J(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var k=q;et[T]!==""&&(k+="="+encodeURIComponent(String(et[T]))),u.push(k)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ou(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(y,T){var k=T.toLowerCase();T!=k&&(Ai(this,T),To(this,k,y))},u)),u.j=m}function ss(u,m){const y=new _n;if(p.Image){const T=new Image;T.onload=H(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=H(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=H(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(Tn,y,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xn(u,m){const y=new _n,T=new AbortController,k=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function as(){this.g=new Zr}function Xn(u,m,y){const T=y||"";try{_o(u,function(k,q){let et=k;_(k)&&(et=Mn(k)),m.push(T+q+"="+encodeURIComponent(et))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function sr(u){this.l=u.Ub||null,this.j=u.eb||!1}j(sr,lo),sr.prototype.g=function(){return new bi(this.l,this.j)},sr.prototype.i=(function(u){return function(){return u}})({});function bi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(bi,ae),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&Ao(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function So(u){let m="";return Mt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=So(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(qt,ae);var Ws=/^https?$/i,os=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?uo(this.o):uo(Fn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){lu(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(os,m,void 0))||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){lu(this,q)}};function lu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),Wn(u)}function Js(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),An(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=et===0){var k=String(u.D).match(es)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),T=!Ws.test(k?k.toLowerCase():"")}y=T}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Js(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){ls(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=T}catch{}}}function ls(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gs(m)}};function uu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(rt(u[T]))continue;var y=M(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}V(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ea(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,u),this.cb=us("retryDelaySeedMs",1e4,u),this.Wa=us("forwardChannelMaxRetries",2,u),this.wa=us("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new as,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){ee(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=gu(this,null,this.W),ia(this)};function bo(u){if(cu(u),u.G==3){var m=u.U++,y=on(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),cs(u,y),m=new Ze(u,u.j,m),m.L=2,m.v=is(on(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jr(m)}pu(u)}function na(u){u.g&&(hs(u),u.g.cancel(),u.g=null)}function cu(u){na(u),u.u&&(p.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ia(u){if(!Ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ht||(nt(),ht=!0),zt.add(m,u),u.B=0}}function Oh(u,m){return Ys(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(N(u.Ga,u,m),Io(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=hu(this,k,m),y=on(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),cs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(So(q)))+"&"+m:this.m&&Ce(y,this.m,q)),Xs(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,Pn(k,y,null)):Pn(k,y,m),this.G=2}}else this.G==3&&(u?wo(this,u):this.i.length==0||Ks(this.h)||wo(this))};function wo(u,m){var y;m?y=m.l:y=u.U++;const T=on(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),cs(u,T),u.m&&u.o&&Ce(T,u.m,u.o),y=new Ze(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=hu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xs(u.h,y),Pn(y,T,m)}function cs(u,m){u.H&&Mt(u.H,function(y,T){Qt(m,T,y)}),u.l&&_o({},function(y,T){Qt(m,T,y)})}function hu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?N(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const et=["count="+y];q==-1?0<y?(q=k[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Pt=!0;for(let Te=0;Te<y;Te++){let xt=k[Te].g;const De=k[Te].map;if(xt-=q,0>xt)q=Math.max(0,k[Te].g-100),Pt=!1;else try{Xn(De,et,"req"+xt+"_")}catch{T&&T(De)}}if(Pt){T=et.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function fu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ht||(nt(),ht=!0),zt.add(m,u),u.v=0}}function Ro(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(N(u.Fa,u),Io(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),na(this),du(this))};function hs(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function du(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),cs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=is(on(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,na(this),Ro(this),ee(19))};function ra(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function mu(u,m){var y=null;if(u.g==m){ra(u),hs(u),u.g=null;var T=2}else if(go(u.h,m))y=m.D,We(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Ji(),Ht(T,new Ee(T,y)),ia(u)}else fu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Oh(u,m)||T==2&&Ro(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Io(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=N(u.fb,u),T=u.Xa;const k=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ns(T,"https"),is(T),k?ss(T.toString(),y):xn(T.toString(),y)}else ee(2);u.G=0,u.l&&u.l.sa(m),pu(u),cu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function gu(u,m,y){var T=y instanceof me?on(y):new me(y);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.s);else{var k=p.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new me(null);T&&ns(q,T),m&&(q.g=m),k&&rr(q,k),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),cs(u,T),T}function yu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new sr({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ae.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}j(Je,ae),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){bo(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new su(m.Ya++,u)),m.G==3&&ia(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Je.aa.N.call(this)};function vu(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}j(vu,gi);function Eu(){ho.call(this),this.status=1}j(Eu,ho);function Jn(u){this.g=u}j(Jn,_u),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(u){Ht(this.g,new vu(u))},Jn.prototype.sa=function(u){Ht(this.g,new Eu)},Jn.prototype.ra=function(){Ht(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,aT=function(){return new sa},sT=function(){return Ji()},rT=Gn,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Oc=nr,yi.COMPLETE="complete",iT=yi,co.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,vl=co,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,nT=qt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",rv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new pm("@firebase/firestore");function Pa(){return ks.logLevel}function st(r,...t){if(ks.logLevel<=Dt.DEBUG){const n=t.map(Cm);ks.debug(`Firestore (${to}): ${r}`,...n)}}function Qi(r,...t){if(ks.logLevel<=Dt.ERROR){const n=t.map(Cm);ks.error(`Firestore (${to}): ${r}`,...n)}}function Fa(r,...t){if(ks.logLevel<=Dt.WARN){const n=t.map(Cm);ks.warn(`Firestore (${to}): ${r}`,...n)}}function Cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,oT(r,s,n)}function oT(r,t,n){let s=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qi(s),new Error(s)}function jt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||oT(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ye.UNAUTHENTICATED)))}shutdown(){}}class TR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ns,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ns)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new lT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class SR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new SR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=RR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Ud(l)===Ud(c)?Nt(l,c):Ud(l)?1:-1}return Nt(r.length,t.length)}const IR=55296,CR=57343;function Ud(r){const t=r.charCodeAt(0);return t>=IR&&t<=CR}function Qa(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Nt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(t).compare(ai.extractNumericId(n)):Wd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kr.fromString(t.substring(4,t.length-2))}}class Jt extends ai{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return DR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new qe([av])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Jt.fromString(t))}static fromName(t){return new ft(Jt.fromString(t).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,t,n){if(!n)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function NR(r,t,n,s){if(t===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ov(r){if(!ft.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lv(r){if(ft.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function qa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,t){const n={typeString:r};return t&&(n.value=t),n}function Fl(r,t){if(!cT(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function OR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new Lr(l,ft.empty(),t)}function VR(r){return new Lr(r.readTime,r.key,Vl)}class Lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Tt.min(),ft.empty(),Vl)}static max(){return new Lr(Tt.max(),ft.empty(),Vl)}}function MR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==PR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>s(g)))})),d=!0,c===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(t[_]).next((A=>{d[_]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,n){return new $(((s,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):s()};c()}))}}function kR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function ch(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function UR(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function LR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hv(t)),t=zR(r.get(n),t);return hv(t)}function zR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case hT:n+="";break;default:n+=c}}return n}function hv(r){return r+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ls(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function fT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Be(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Bn([])}unionWith(t){let n=new Re(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dT("Invalid base64 string: "+c):c}})(t);return new He(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=BR.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function Om(r){return(r?.mapValue?.fields||{})[pT]?.stringValue===mT}function hh(r){const t=r.mapValue.fields[gT];return Om(t)?hh(t):t}function Ml(r){const t=zr(r.mapValue.fields[yT].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,n,s,l,c,d,p,g,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const Kc="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||Kc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",jR="__max__",bc={mapValue:{}},vT="__vector__",Yc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:GR(r)?9007199254740991:HR(r)?10:11:yt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=qr(r);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=zr(l.timestampValue),p=zr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Br(l.bytesValue).isEqual(Br(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=fe(l.doubleValue),p=fe(c.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Qa(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(fv(d)!==fv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!di(d[g],p[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((n=>di(n,t)))!==void 0}function Ka(r,t){if(r===t)return 0;const n=qr(r),s=qr(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=fe(c.integerValue||c.doubleValue),g=fe(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return mv(r.timestampValue,t.timestampValue);case 4:return mv(Ml(r),Ml(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Br(c),g=Br(d);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=Nt(p[_],g[_]);if(A!==0)return A}return Nt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(fe(c.latitude),fe(d.latitude));return p!==0?p:Nt(fe(c.longitude),fe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[Yc]?.arrayValue,A=g[Yc]?.arrayValue,I=Nt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:pv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let I=0;I<g.length&&I<A.length;++I){const N=Wd(g[I],A[I]);if(N!==0)return N;const H=Ka(p[g[I]],_[A[I]]);if(H!==0)return H}return Nt(g.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=zr(r),s=zr(t),l=Nt(n.seconds,s.seconds);return l!==0?l:Nt(n.nanos,s.nanos)}function pv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ka(n[l],s[l]);if(c)return c}return Nt(n.length,s.length)}function Ya(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=zr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Br(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ft.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Jd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Jd(n.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Vc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ls(s.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function gv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function tm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function yv(r){return!!r&&"nullValue"in r}function _v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function HR(r){return(r?.mapValue?.fields||{})[_T]?.stringValue===vT}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ls(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=wl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return{...r}}function GR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ls(n,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Nn(wl(this.value))}}function ET(r){const t=[];return Ls(r.fields,((n,s)=>{const l=new qe([n]);if(Mc(s)){const c=ET(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,l,c,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,Tt.min(),Tt.min(),Tt.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,Tt.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,Tt.min(),Tt.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,Tt.min(),Tt.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.position=t,this.inclusive=n}}function vv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),n.key):s=Ka(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ev(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n="asc"){this.field=t,this.dir=n}}function FR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class _e extends TT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new KR(t,n,s):n==="array-contains"?new $R(t,s):n==="in"?new ZR(t,s):n==="not-in"?new WR(t,s):n==="array-contains-any"?new JR(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new YR(t,s):new XR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ka(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends TT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new jn(t,n)}matches(t){return AT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AT(r){return r.op==="and"}function ST(r){return QR(r)&&AT(r)}function QR(r){for(const t of r.filters)if(t instanceof jn)return!1;return!0}function em(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(ST(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((n=>em(n))).join(",");return`${r.op}(${t})`}}function bT(r,t){return r instanceof _e?(function(s,l){return l instanceof _e&&s.op===l.op&&s.field.isEqual(l.field)&&di(s.value,l.value)})(r,t):r instanceof jn?(function(s,l){return l instanceof jn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&bT(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function wT(r){return r instanceof _e?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`})(r):r instanceof jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"})(r):"Filter"}class KR extends _e{constructor(t,n,s){super(t,n,s),this.key=ft.fromName(s.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class YR extends _e{constructor(t,n){super(t,"in",n),this.keys=RT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class XR extends _e{constructor(t,n){super(t,"not-in",n),this.keys=RT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function RT(r,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class $R extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Vm(n)&&xl(n.arrayValue,this.value)}}class ZR extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class WR extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class JR extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,n=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Tv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new tI(r,t,n,s,l,c,d)}function Mm(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>em(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ya(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ya(s))).join(",")),t.Te=n}return t.Te}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ev(r.startAt,t.startAt)&&Ev(r.endAt,t.endAt)}function nm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n=null,s=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eI(r,t,n,s,l,c,d,p){return new Ql(r,t,n,s,l,c,d,p)}function xm(r){return new Ql(r)}function Av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IT(r){return r.collectionGroup!==null}function Rl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(qe.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $c(c,s))})),n.has(qe.keyField().canonicalString())||t.Ie.push(new $c(qe.keyField(),s))}return t.Ie}function li(r){const t=At(r);return t.Ee||(t.Ee=nI(t,Rl(r))),t.Ee}function nI(r,t){if(r.limitType==="F")return Tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new $c(l.field,c)}));const n=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Tv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function im(r,t){const n=r.filters.concat([t]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rm(r,t,n){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function fh(r,t){return Pm(li(r),li(t))&&r.limitType===t.limitType}function CT(r){return`${Mm(li(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>wT(l))).join(", ")}]`),ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Ya(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Ya(l))).join(",")),`Target(${s})`})(li(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Rl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,g){const _=vv(d,p,g);return d.inclusive?_<=0:_<0})(s.startAt,Rl(s),l)||s.endAt&&!(function(d,p,g){const _=vv(d,p,g);return d.inclusive?_>=0:_>0})(s.endAt,Rl(s),l))})(r,t)}function iI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DT(r){return(t,n)=>{let s=!1;for(const l of Rl(r)){const c=rI(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function rI(r,t,n){const s=r.field.isKeyField()?ft.comparator(t.key,n.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?Ka(g,_):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,((n,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new re(ft.comparator);function Ki(){return sI}const NT=new re(ft.comparator);function El(...r){let t=NT;for(const n of r)t=t.insert(n.key,n);return t}function OT(r){let t=NT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ds(){return Il()}function VT(){return Il()}function Il(){return new zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const aI=new re(ft.comparator),oI=new Re(ft.comparator);function Ot(...r){let t=oI;for(const n of r)t=t.add(n);return t}const lI=new Re(Nt);function uI(){return lI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function MT(r){return{integerValue:""+r}}function cI(r,t){return UR(t)?MT(t):km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function hI(r,t,n){return r instanceof Zc?(function(l,c){const d={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=hh(c)),c&&(d.fields[gT]=c),{mapValue:d}})(n,t):r instanceof kl?xT(r,t):r instanceof Ul?kT(r,t):(function(l,c){const d=PT(l,c),p=Sv(d)+Sv(l.Ae);return tm(d)&&tm(l.Ae)?MT(p):km(l.serializer,p)})(r,t)}function fI(r,t,n){return r instanceof kl?xT(r,t):r instanceof Ul?kT(r,t):n}function PT(r,t){return r instanceof Wc?(function(s){return tm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Zc extends mh{}class kl extends mh{constructor(t){super(),this.elements=t}}function xT(r,t){const n=UT(t);for(const s of r.elements)n.some((l=>di(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Ul extends mh{constructor(t){super(),this.elements=t}}function kT(r,t){let n=UT(t);for(const s of r.elements)n=n.filter((l=>!di(l,s)));return{arrayValue:{values:n}}}class Wc extends mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Sv(r){return fe(r.integerValue||r.doubleValue)}function UT(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof kl&&l instanceof kl||s instanceof Ul&&l instanceof Ul?Qa(s.elements,l.elements,di):s instanceof Wc&&l instanceof Wc?di(s.Ae,l.Ae):s instanceof Zc&&l instanceof Zc})(r.transform,t.transform)}class mI{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ph{}function LT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,ui.none()):new Kl(r.key,r.data,ui.none());{const n=r.data,s=Nn.empty();let l=new Re(qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Bs(r.key,s,new Bn(l.toArray()),ui.none())}}function pI(r,t,n){r instanceof Kl?(function(l,c,d){const p=l.value.clone(),g=wv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof Bs?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=wv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(zT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Cl(r,t,n,s){return r instanceof Kl?(function(c,d,p,g){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),A=Rv(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof Bs?(function(c,d,p,g){if(!Pc(c.precondition,d))return p;const _=Rv(c.fieldTransforms,g,d),A=d.data;return A.setAll(zT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,t,n,s):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function gI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=PT(s.transform,l||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,c))}return n||null}function bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,((c,d)=>dI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends ph{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bs extends ph{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function wv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,fI(d,p,n[l]))}return s}function Rv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,hI(c,d,t))}return s}class Um extends ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&pI(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=VT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=LT(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((n,s)=>bv(n,s)))&&Qa(this.baseMutations,t.baseMutations,((n,s)=>bv(n,s)))}}class Lm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return aI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Lm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function TI(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function BT(r){if(r===void 0)return Qi("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new kr([4294967295,4294967295],0);function Iv(r){const t=AI().encode(r),n=new eT;return n.update(t),new Uint8Array(n.digest())}function Cv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new kr([n,s],0),new kr([l,c],0)]}class zm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(s<0)throw new Tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=kr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(kr.fromNumber(s)));return l.compare(SI)===1&&(l=new kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Iv(t),[s,l]=Cv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=Iv(t),[s,l]=Cv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new gh(Tt.min(),l,new re(Nt),Ki(),Ot())}}class Yl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Yl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class qT{constructor(t,n){this.targetId=t,this.Ce=n}}class jT{constructor(t,n,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Dv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ki(),this.Je=wc(),this.He=wc(),this.Ye=new re(Nt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(nm(c))if(s===0){const d=new ft(c.path);this.et(n,d,Xe.newNoDocument(d,Tt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Br(s).toUint8Array()}catch(g){if(g instanceof dT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new zm(d,l,c)}catch(g){return Fa(g instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const g=new ft(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Xe.newNoDocument(g,t))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,n,this.Ye,this.je,s);return this.je=Ki(),this.Je=wc(),this.He=wc(),this.Ye=new re(Nt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Dv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Re(Nt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Re(Nt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Dv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function wc(){return new re(ft.comparator)}function Nv(){return new re(ft.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},II={and:"AND",or:"OR"};class CI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function DI(r,t){return Jc(r,t.toTimestamp())}function ci(r){return jt(!!r,49232),Tt.fromTimestamp((function(n){const s=zr(n);return new te(s.seconds,s.nanos)})(r))}function Bm(r,t){return am(r,t).canonicalString()}function am(r,t){const n=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function GT(r){const t=Jt.fromString(r);return jt(XT(t),10190,{key:t.toString()}),t}function om(r,t){return Bm(r.databaseId,t.path)}function Ld(r,t){const n=GT(t);if(n.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(QT(n))}function FT(r,t){return Bm(r.databaseId,t)}function NI(r){const t=GT(r);return t.length===4?Jt.emptyPath():QT(t)}function lm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ov(r,t,n){return{name:om(r,t),fields:n.value.mapValue.fields}}function OI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:BT(_.code);return new at(A,_.message||"")})(d);n=new jT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ld(r,s.document.name),c=ci(s.document.updateTime),d=s.document.createTime?ci(s.document.createTime):Tt.min(),p=new Nn({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(l,c,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];n=new xc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ld(r,s.document),c=s.readTime?ci(s.readTime):Tt.min(),d=Xe.newNoDocument(l,c),p=s.removedTargetIds||[];n=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ld(r,s.document),c=s.removedTargetIds||[];n=new xc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new EI(l,c),p=s.targetId;n=new qT(p,d)}}return n}function VI(r,t){let n;if(t instanceof Kl)n={update:Ov(r,t.key,t.value)};else if(t instanceof Um)n={delete:om(r,t.key)};else if(t instanceof Bs)n={update:Ov(r,t.key,t.data),updateMask:qI(t.fieldMask)};else{if(!(t instanceof yI))return yt(16599,{Vt:t.type});n={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:DI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),n}function MI(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((n=>(function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(Tt.min())&&(d=ci(c)),new mI(d,l.transformResults||[])})(n,t)))):[]}function PI(r,t){return{documents:[FT(r,t.path)]}}function xI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FT(r,l);const c=(function(_){if(_.length!==0)return YT(jn.create(_,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:ka(N.field),direction:LI(N.dir)}})(A)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function kI(r){let t=NI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){jt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=(function(I){const N=KT(I);return N instanceof jn&&ST(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(I){return I.map((N=>(function(j){return new $c(Ua(j.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(I){let N;return N=typeof I=="object"?I.value:I,ch(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(I){const N=!!I.before,H=I.values||[];return new Xc(H,N)})(n.startAt));let _=null;return n.endAt&&(_=(function(I){const N=!I.before,H=I.values||[];return new Xc(H,N)})(n.endAt)),eI(t,l,d,c,p,"F",g,_)}function UI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(n.unaryFilter.field);return _e.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(n.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return _e.create(Ua(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return jn.create(n.compositeFilter.filters.map((s=>KT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function LI(r){return wI[r]}function zI(r){return RI[r]}function BI(r){return II[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return qe.fromServerFormat(r.fieldPath)}function YT(r){return r instanceof _e?(function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:zI(n.op),value:n.value}}})(r):r instanceof jn?(function(n){const s=n.getFilters().map((l=>YT(l)));return s.length===1?s[0]:{compositeFilter:{op:BI(n.op),filters:s}}})(r):yt(54877,{filter:r})}function qI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function XT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,n,s,l,c=Tt.min(),d=Tt.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.yt=t}}function HI(r){const t=kI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Cn=new FI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Lr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class FI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Re(Jt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$T=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn($T,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",QI=1048576;function Pv([r,t],[n,s]){const l=Nt(r,n);return l===0?Nt(t,s):l}class KI{constructor(t){this.Ir=t,this.buffer=new Re(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Pv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?st(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Vr(3e5)}))}}class XI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(uh.ce);const s=new KI(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Vv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,c,d,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(s=I,p=Date.now(),this.removeTargets(t,s,n)))).next((I=>(c=I,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((I=>(_=Date.now(),Pa()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function $I(r,t){return new XI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.changes=new zs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Cl(s.mutation,l,Bn.empty(),te.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const l=Ds();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((c=>{let d=El();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Ds();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let c=Ki();const d=Il(),p=(function(){return Il()})();return n.forEach(((g,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Bs)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Cl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,Bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),n.forEach(((_,A)=>p.set(_,new WI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Il();let l=new re(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let A=s.get(g)||Bn.empty();A=p.applyToLocalView(_,A),s.set(g,A);const I=(l.get(p.batchId)||Ot()).add(g);l=l.insert(p.batchId,I)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,I=VT();A.forEach((N=>{if(!c.has(N)){const H=LT(n.get(N),s.get(N));H!==null&&I.set(N,H),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):$.resolve(Ds());let p=Vl,g=c;return d.next((_=>$.forEach(_,((A,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{g=g.insert(A,N)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,Ot()))).next((A=>({batchId:p,changes:OT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((s=>{let l=El();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(g=>{const _=(function(I,N){return new Ql(N,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((I,N)=>{d=d.insert(I,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=El();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&Cl(A.mutation,_,Bn.empty(),te.now()),dh(n,_)&&(p=p.insert(g,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:HI(l.bundledQuery),readTime:ci(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new re(ft.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ds();return $.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,c)=>{this.St(t,n,c)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Ds(),c=n.length+1,d=new ft(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ds(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ds(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vI(n,s));let c=this.qr.get(n);c===void 0&&(c=Ot(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Qr=new Re(Me.$r),this.Ur=new Re(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Me(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ft(new Jt([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ft(new Jt([])),s=new Me(n,t),l=new Me(n,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const n=new Me(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ft.comparator(t.key,n.key)||Nt(t.Yr,n.Yr)}static Kr(t,n){return Nt(t.Yr,n.Yr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Me.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _I(c,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Me(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Nm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Nt);return n.forEach((l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ft(c),0);let p=new Re(Nt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Me(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.ri=t,this.docs=(function(){return new re(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Ki();const d=n.path,p=new ft(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||MR(VR(A),s)<=0||(l.has(A.key)||dh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,n,s,l){yt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new sC(this)}getSize(t){return $.resolve(this.size)}}class sC extends ZI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.persistence=t,this.si=new zs((n=>Mm(n)),Pm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Xa(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new nC,this.referenceDelegate=t(this),this.Pi=new aC(this),this.indexManager=new GI,this.remoteDocumentCache=(function(l){return new rC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jI(n),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new eC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new iC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new oC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class oC extends xR{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new jm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ft.fromPath(s);return this.gi(t,l).next((c=>{c||n.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class th{constructor(t,n){this.persistence=t,this.pi=new zs((s=>LR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$I(this,n)}static mi(t,n){return new th(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(s++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Vc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Ot(),l=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xS()?8:kR($e())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ys(t,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,n,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lC;return this.Ss(t,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>c.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Pa()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Pa()<=Dt.DEBUG&&st("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Pa()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):$.resolve())}ys(t,n){if(Av(n))return $.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=rm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const _=this.Ds(n,p);return this.Cs(n,_,d,g.readTime)?this.ys(t,rm(n,null,"F")):this.vs(t,_,n,g)}))))})))))}ws(t,n,s,l){return Av(n)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?$.resolve(null):(Pa()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(n)),this.vs(t,d,n,OR(l,Vl)).next((p=>p)))}))}Ds(t,n){let s=new Re(DT(t));return n.forEach(((l,c)=>{dh(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Pa()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ps.getDocumentsMatchingQuery(t,n,Lr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",cC=3e8;class hC{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new re(Nt),this.xs=new zs((c=>Mm(c)),Pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function fC(r,t,n,s){return new hC(r,t,n,s)}async function WT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function dC(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,A){const I=_.batch,N=I.keys();let H=$.resolve();return N.forEach((j=>{H=H.next((()=>A.getEntry(g,j))).next((J=>{const K=_.docVersions.get(j);jt(K!==null,48541),J.version.compareTo(K)<0&&(I.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(g,I)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function JT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function mC(r,t){const n=At(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((A,I)=>{const N=l.get(I);if(!N)return;p.push(n.Pi.removeMatchingKeys(c,A.removedDocuments,I).next((()=>n.Pi.addMatchingKeys(c,A.addedDocuments,I))));let H=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(I,H),(function(J,K,ot){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=cC?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(N,H,A)&&p.push(n.Pi.updateTargetData(c,H))}));let g=Ki(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(pC(c,d,t.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!s.isEqual(Tt.min())){const A=n.Pi.getLastRemoteSnapshotVersion(c).next((I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function pC(r,t,n){let s=Ot(),l=Ot();return n.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Ki();return n.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):st(Gm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function gC(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Nm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yC(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((c=>c?(l=c,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Vr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function um(r,t,n){const s=At(r),l=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;st(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function xv(r,t,n){const s=At(r);let l=Tt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const I=At(g),N=I.xs.get(A);return N!==void 0?$.resolve(I.Ms.get(N)):I.Pi.getTargetData(_,A)})(s,d,li(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:Tt.min(),n?c:Ot()))).next((p=>(_C(s,iI(t),p),{documents:p,Qs:c})))))}function _C(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class kv{constructor(){this.activeTargetIds=uI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vC{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function cm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,c){const d=cm(),p=this.zo(t,n.toUriEncodedString());st(zd,`Sending RPC '${t}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),A=Za(_);return this.Jo(t,p,g,s,A).then((I=>(st(zd,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw Fa(zd,`RPC '${t}' ${d} failed with error: `,I,"url: ",p,"request:",s),I}))}Ho(t,n,s,l,c,d){return this.Go(t,n,s,l,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,n){const s=TC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class bC extends AC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=cm();return new Promise(((p,g)=>{const _=new nT;_.setWithCredentials(!0),_.listenOnce(iT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const I=_.getResponseJson();st(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),p(I);break;case Oc.TIMEOUT:st(Ke,`RPC '${t}' ${d} timed out`),g(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const N=_.getStatus();if(st(Ke,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const j=H?.error;if(j&&j.status&&j.message){const J=(function(ot){const rt=ot.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(rt)>=0?rt:X.UNKNOWN})(j.status);g(new at(J,j.message))}else g(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new at(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)}))}T_(t,n,s){const l=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=aT(),p=sT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const A=c.join("");st(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,g);const I=d.createWebChannel(A,g);this.I_(I);let N=!1,H=!1;const j=new SC({Yo:K=>{H?st(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(N||(st(Ke,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),st(Ke,`RPC '${t}' stream ${l} sending:`,K),I.send(K))},Zo:()=>I.close()}),J=(K,ot,rt)=>{K.listen(ot,(ct=>{try{rt(ct)}catch(Vt){setTimeout((()=>{throw Vt}),0)}}))};return J(I,vl.EventType.OPEN,(()=>{H||(st(Ke,`RPC '${t}' stream ${l} transport opened.`),j.o_())})),J(I,vl.EventType.CLOSE,(()=>{H||(H=!0,st(Ke,`RPC '${t}' stream ${l} transport closed`),j.a_(),this.E_(I))})),J(I,vl.EventType.ERROR,(K=>{H||(H=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),j.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),J(I,vl.EventType.MESSAGE,(K=>{if(!H){const ot=K.data[0];jt(!!ot,16349);const rt=ot,ct=rt?.error||rt[0]?.error;if(ct){st(Ke,`RPC '${t}' stream ${l} received error:`,ct);const Vt=ct.status;let _t=(function(S){const R=ye[S];if(R!==void 0)return BT(R)})(Vt),Mt=ct.message;_t===void 0&&(_t=X.INTERNAL,Mt="Unknown error status: "+Vt+" with message "+ct.message),H=!0,j.a_(new at(_t,Mt)),I.close()}else st(Ke,`RPC '${t}' stream ${l} received:`,ot),j.u_(ot)}})),J(p,rT.STAT_EVENT,(K=>{K.stat===Zd.PROXY?st(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Zd.NOPROXY&&st(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r){return new CI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="PersistentStream";class e0{constructor(t,n,s,l,c,d,p,g){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wC extends e0{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ci(d.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=lm(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=nm(g)?{documents:PI(c,g)}:{query:xI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HT(c,d.resumeToken);const _=sm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const _=sm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=UI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=lm(this.serializer),n.removeTarget=t,this.q_(n)}}class RC extends e0{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=MI(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>VI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class CC extends IC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(n,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}Ho(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,am(n,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class NC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{qs(this)&&(st(Us,"Restarting streams for network reachability change."),await(async function(g){const _=At(g);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await _h(_)})(this))}))})),this.Ra=new DC(s,l)}}async function _h(r){if(qs(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function n0(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ym(n)?Km(n):io(n).O_()&&Qm(n,t))}function Fm(r,t){const n=At(r),s=io(n);n.Ia.delete(t),s.O_()&&i0(n,t),n.Ia.size===0&&(s.O_()?s.L_():qs(n)&&n.Ra.set("Unknown"))}function Qm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(r).Y_(t)}function i0(r,t){r.Va.Ue(t),io(r).Z_(t)}function Km(r){r.Va=new bI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),io(r).start(),r.Ra.ua()}function Ym(r){return qs(r)&&!io(r).x_()&&r.Ia.size>0}function qs(r){return At(r).Ea.size===0}function r0(r){r.Va=void 0}async function OC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((t,n)=>{Qm(r,t)}))}async function MC(r,t){r0(r),Ym(r)?(r.Ra.ha(t),Km(r)):r.Ra.set("Unknown")}async function PC(r,t,n){if(r.Ra.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){st(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await eh(r,s)}else if(t instanceof xc?r.Va.Ze(t):t instanceof qT?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await JT(r.localStore);n.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),i0(c,g);const I=new Vr(A.target,g,_,A.sequenceNumber);Qm(c,I)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){st(Us,"Failed to raise snapshot:",s),await eh(r,s)}}async function eh(r,t,n){if(!no(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Us,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await _h(r)}))}function s0(r,t){return t().catch((n=>eh(r,n,t)))}async function vh(r){const t=At(r),n=jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;xC(t);)try{const l=await gC(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,kC(t,l)}catch(l){await eh(t,l)}a0(t)&&o0(t)}function xC(r){return qs(r)&&r.Ta.length<10}function kC(r,t){r.Ta.push(t);const n=jr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function a0(r){return qs(r)&&!jr(r).x_()&&r.Ta.length>0}function o0(r){jr(r).start()}async function UC(r){jr(r).ra()}async function LC(r){const t=jr(r);for(const n of r.Ta)t.ea(n.mutations)}async function zC(r,t,n){const s=r.Ta.shift(),l=Lm.from(s,t,n);await s0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function BC(r,t){t&&jr(r).X_&&await(async function(s,l){if((function(d){return TI(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();jr(s).B_(),await s0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(s)}})(r,t),a0(r)&&o0(r)}async function Bv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),st(Us,"RemoteStore received new credentials");const s=qs(n);n.Ea.add(3),await Xl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _h(n)}async function qC(r,t){const n=At(r);t?(n.Ea.delete(2),await _h(n)):t||(n.Ea.add(2),await Xl(n),n.Ra.set("Unknown"))}function io(r){return r.ma||(r.ma=(function(n,s,l){const c=At(n);return c.sa(),new wC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:OC.bind(null,r),t_:VC.bind(null,r),r_:MC.bind(null,r),H_:PC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Ym(r)?Km(r):r.Ra.set("Unknown")):(await r.ma.stop(),r0(r))}))),r.ma}function jr(r){return r.fa||(r.fa=(function(n,s,l){const c=At(n);return c.sa(),new RC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,r),r_:BC.bind(null,r),ta:LC.bind(null,r),na:zC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Us,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,p=new Xm(t,n,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),no(r))return new at(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ft.comparator(n.key,s.key):(n,s)=>ft.comparator(n.key,s.key),this.keyedMap=El(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.ga=new re(ft.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class $a{constructor(t,n,s,l,c,d,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,n,ja.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HC{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=jv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function jv(){return new zs((r=>CT(r)),fh)}async function GC(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new jC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=$m(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Zm(n)}async function FC(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QC(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Zm(n)}function KC(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Zm(r){r.Ca.forEach((t=>{t.next()}))}var hm,Hv;(Hv=hm||(hm={})).Ma="default",Hv.Cache="cache";class YC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new $a(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this.key=t}}class u0{constructor(t){this.key=t}}class XC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=DT(t),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new qv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,I)=>{const N=l.get(A),H=dh(this.query,I)?I:null,j=!!N&&this.mutatedKeys.has(N.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;N&&H?N.data.isEqual(H.data)?j!==J&&(s.track({type:3,doc:H}),K=!0):this.su(N,H)||(s.track({type:2,doc:H}),K=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(p=!0)):!N&&H?(s.track({type:0,doc:H}),K=!0):N&&!H&&(s.track({type:1,doc:N}),K=!0,(g||_)&&(p=!0)),K&&(H?(d=d.add(H),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,I)=>(function(H,j){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:K})}};return J(H)-J(j)})(A.type,I.type)||this.eu(A.doc,I.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new u0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new l0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class $C{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zs((p=>CT(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new re(ft.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,t,n=!0){const s=p0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await c0(s,t,n,!0),l}async function t2(r,t){const n=p0(r);await c0(n,t,!0,!1)}async function c0(r,t,n,s){const l=await yC(r.localStore,li(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await e2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&n0(r.remoteStore,l),p}async function e2(r,t,n,s,l){r.pu=(I,N,H)=>(async function(J,K,ot,rt){let ct=K.view.ru(ot);ct.Cs&&(ct=await xv(J.localStore,K.query,!1).then((({documents:V})=>K.view.ru(V,ct))));const Vt=rt&&rt.targetChanges.get(K.targetId),_t=rt&&rt.targetMismatches.get(K.targetId)!=null,Mt=K.view.applyChanges(ct,J.isPrimaryClient,Vt,_t);return Fv(J,K.targetId,Mt.au),Mt.snapshot})(r,I,N,H);const c=await xv(r.localStore,t,!0),d=new XC(t,c.Qs),p=d.ru(c.documents),g=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,g);Fv(r,n,_.au);const A=new $C(t,n,d);return r.Tu.set(t,A),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function n2(r,t,n){const s=At(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await um(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Fm(s.remoteStore,l.targetId),fm(s,l.targetId)})).catch(eo)):(fm(s,l.targetId),await um(s.localStore,l.targetId,!0))}async function i2(r,t){const n=At(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function r2(r,t,n){const s=h2(r);try{const l=await(function(d,p){const g=At(d),_=te.now(),A=p.reduce(((H,j)=>H.add(j.key)),Ot());let I,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let j=Ki(),J=Ot();return g.Ns.getEntries(H,A).next((K=>{j=K,j.forEach(((ot,rt)=>{rt.isValidDocument()||(J=J.add(ot))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,j))).next((K=>{I=K;const ot=[];for(const rt of p){const ct=gI(rt,I.get(rt.key).overlayedDocument);ct!=null&&ot.push(new Bs(rt.key,ct,ET(ct.value.mapValue),ui.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,ot,p)})).next((K=>{N=K;const ot=K.applyToLocalDocumentSet(I,J);return g.documentOverlayCache.saveOverlays(H,K.batchId,ot)}))})).then((()=>({batchId:N.batchId,changes:OT(I)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Nt)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,n),await $l(s,l.changes),await vh(s.remoteStore)}catch(l){const c=$m(l,"Failed to persist write");n.reject(c)}}async function h0(r,t){const n=At(r);try{const s=await mC(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await $l(n,s,t)}catch(s){await eo(s)}}function Gv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=At(d);g.onlineState=p;let _=!1;g.queries.forEach(((A,I)=>{for(const N of I.Sa)N.va(p)&&(_=!0)})),_&&Zm(g)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function s2(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new re(ft.comparator);d=d.insert(c,Xe.newNoDocument(c,Tt.min()));const p=Ot().add(c),g=new gh(Tt.min(),new Map,new re(Nt),d,p);await h0(s,g),s.du=s.du.remove(c),s.Au.delete(t),Jm(s)}else await um(s.localStore,t,!1).then((()=>fm(s,t,n))).catch(eo)}async function a2(r,t){const n=At(r),s=t.batch.batchId;try{const l=await dC(n.localStore,t);d0(n,s,null),f0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,l)}catch(l){await eo(l)}}async function o2(r,t,n){const s=At(r);try{const l=await(function(d,p){const g=At(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next((I=>(jt(I!==null,37113),A=I.keys(),g.mutationQueue.removeMutationBatch(_,I)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);d0(s,t,n),f0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,l)}catch(l){await eo(l)}}function f0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function d0(r,t,n){const s=At(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function fm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||m0(r,s)}))}function m0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Fm(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Jm(r))}function Fv(r,t,n){for(const s of n)s instanceof l0?(r.Ru.addReference(s.key,t),l2(r,s)):s instanceof u0?(st(Wm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||m0(r,s.key)):yt(19791,{wu:s})}function l2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(st(Wm,"New document in limbo: "+n),r.Eu.add(s),Jm(r))}function Jm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ft(Jt.fromString(t)),s=r.fu.next();r.Au.set(s,new ZC(n)),r.du=r.du.insert(n,s),n0(r.remoteStore,new Vr(li(xm(n.path)),s,"TargetPurposeLimboResolution",uh.ce))}}async function $l(r,t,n){const s=At(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,t,n).then((_=>{if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Hm.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(g,_){const A=At(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>$.forEach(_,(N=>$.forEach(N.Es,(H=>A.persistence.referenceDelegate.addReference(I,N.targetId,H))).next((()=>$.forEach(N.ds,(H=>A.persistence.referenceDelegate.removeReference(I,N.targetId,H)))))))))}catch(I){if(!no(I))throw I;st(Gm,"Failed to update sequence numbers: "+I)}for(const I of _){const N=I.targetId;if(!I.fromCache){const H=A.Ms.get(N),j=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(j);A.Ms=A.Ms.insert(N,J)}}})(s.localStore,c))}async function u2(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){st(Wm,"User change. New user:",t.toKey());const s=await WT(n.localStore,t);n.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Ls)}}function c2(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function p0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s2.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function h2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fC(this.persistence,new uC,t.initialUser,this.serializer)}Cu(t){return new ZT(jm.mi,this.serializer)}Du(t){return new vC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class f2 extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){jt(this.persistence.referenceDelegate instanceof th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new ZT((s=>th.mi(s,n)),this.serializer)}}class dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u2.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HC})()}createDatastore(t){const n=yh(t.databaseInfo.databaseId),s=(function(c){return new bC(c)})(t.databaseInfo);return(function(c,d,p,g){return new CC(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,c,d,p){return new NC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>Gv(this.syncEngine,n,0)),(function(){return Lv.v()?new Lv:new EC})())}createSyncEngine(t,n){return(function(l,c,d,p,g,_,A){const I=new WC(l,c,d,p,g,_);return A&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);st(Us,"RemoteStore shutting down."),s.Ea.add(5),await Xl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class m2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(Hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(Hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=$m(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function qd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Hr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await WT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Qv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await p2(r);st(Hr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Bv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Bv(t.remoteStore,l))),r._onlineComponents=t}async function p2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Hr,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await qd(r,new nh)}}else st(Hr,"Using default OfflineComponentProvider"),await qd(r,new f2(void 0));return r._offlineComponents}async function g0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Hr,"Using user provided OnlineComponentProvider"),await Qv(r,r._uninitializedComponentsProvider._online)):(st(Hr,"Using default OnlineComponentProvider"),await Qv(r,new dm))),r._onlineComponents}function g2(r){return g0(r).then((t=>t.syncEngine))}async function Kv(r){const t=await g0(r),n=t.eventManager;return n.onListen=JC.bind(null,t.syncEngine),n.onUnlisten=n2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=t2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=i2.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",Xv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=Xv}else this.host=t.host,this.ssl=t.ssl??Xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QI)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ER;switch(s.type){case"firstParty":return new bR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Yv.get(n);s&&(st("ComponentProvider","Removing Datastore"),Yv.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(r,t,n,s={}){r=qa(r,Eh);const l=Za(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(dE(`https://${p}`),mE("Firestore",!0)),c.host!==_0&&c.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:s};if(!Vs(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ye.MOCK_USER;else{_=RS(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(I)}r._authCredentials=new TR(new lT(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ro(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Fl(n,we._jsonSchema))return new we(t,s||null,new ft(Jt.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ve("string",we._jsonSchemaVersion),referencePath:ve("string")};class Ur extends ro{constructor(t,n,s){super(t,n,xm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new ft(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function Zv(r,t,...n){if(r=je(r),uT("collection","path",t),r instanceof Eh){const s=Jt.fromString(t,...n);return lv(s),new Ur(r,null,s)}{if(!(r instanceof we||r instanceof Ur))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return lv(s),new Ur(r.firestore,null,s)}}function v0(r,t,...n){if(r=je(r),arguments.length===1&&(t=Dm.newId()),uT("doc","path",t),r instanceof Eh){const s=Jt.fromString(t,...n);return ov(s),new we(r,null,new ft(s))}{if(!(r instanceof we||r instanceof Ur))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return ov(s),new we(r.firestore,r instanceof Ur?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const s=Bd();s&&st(Wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;st(Wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",tE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Xm.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ll extends Eh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function _2(r,t){const n=typeof r=="object"?r:_E(),s=typeof r=="string"?r:Kc,l=ym(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=bS("firestore");c&&y2(l,...c)}return l}function E0(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||v2(r),r._firestoreClient}function v2(r){const t=r._freezeSettings(),n=(function(l,c,d,p){return new qR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,y0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new m2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(He.fromBase64String(t))}catch(n){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new On(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ve("string",On._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,hi._jsonSchema))return new hi(t.latitude,t.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:ve("string",hi._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new fi(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:ve("string",fi._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class T2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}function A0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class ep{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(A0(this.Ac)&&E2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class A2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||yh(t)}Cc(t,n,s,l=!1){return new ep({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(r){const t=r._freezeSettings(),n=yh(r._databaseId);return new A2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function S2(r,t,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,n,l);R0("Data must be an object, but it was:",d,s);const p=b0(s,d);let g,_;if(c.merge)g=new Bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const N=w2(t,I,n);if(!d.contains(N))throw new at(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);I2(A,N)||A.push(N)}g=new Bn(A),_=d.fieldTransforms.filter((I=>g.covers(I.field)))}else g=null,_=d.fieldTransforms;return new T2(new Nn(p),g,_)}function b2(r,t,n,s=!1){return np(n,r.Cc(s?4:3,t))}function np(r,t){if(w0(r=je(r)))return R0("Unsupported field value:",t,r),b0(r,t);if(r instanceof T0)return(function(s,l){if(!A0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let g=np(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Jc(l.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:HT(l.serializer,s._byteString)};if(s instanceof we){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof fi)return(function(d,p){return{mapValue:{fields:{[_T]:{stringValue:vT},[Yc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return km(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lh(s)}`)})(r,t)}function b0(r,t){const n={};return fT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(r,((s,l)=>{const c=np(l,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function w0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof hi||r instanceof On||r instanceof we||r instanceof T0||r instanceof fi)}function R0(r,t,n){if(!w0(n)||!cT(n)){const s=lh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function w2(r,t,n){if((t=je(t))instanceof tp)return t._internalPath;if(typeof t=="string")return I0(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const R2=new RegExp("[~\\*/\\[\\]]");function I0(r,t,n){if(t.search(R2)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tp(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ih(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new at(X.INVALID_ARGUMENT,p+r+g)}function I2(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new C2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C2 extends C0{data(){return super.data()}}function ip(r,t){return typeof t=="string"?I0(r,t):t instanceof tp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class N2 extends rp{}function O2(r,t,...n){let s=[];t instanceof rp&&s.push(t),s=s.concat(n),(function(c){const d=c.filter((g=>g instanceof sp)).length,p=c.filter((g=>g instanceof Th)).length;if(d>1||d>0&&p>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Th extends N2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Th(t,n,s)}_apply(t){const n=this._parse(t);return D0(t._query,n),new ro(t.firestore,t.converter,im(t._query,n))}_parse(t){const n=S0(t.firestore);return(function(c,d,p,g,_,A,I){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){iE(I,A);const j=[];for(const J of I)j.push(nE(g,c,J));N={arrayValue:{values:j}}}else N=nE(g,c,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||iE(I,A),N=b2(p,d,I,A==="in"||A==="not-in");return _e.create(_,A,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function V2(r,t,n){const s=t,l=ip("where",r);return Th._create(l,s,n)}class sp extends rp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new sp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)D0(d,g),d=im(d,g)})(t._query,n),new ro(t.firestore,t.converter,im(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(r,t,n){if(typeof(n=je(n))=="string"){if(n==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(t)&&n.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gv(r,new ft(s))}if(n instanceof we)return gv(r,n._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function iE(r,t){if(!Array.isArray(r)||r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function D0(r,t){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class M2{convertValue(t,n="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ls(t,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Yc].arrayValue?.values?.map((s=>fe(s.doubleValue)));return new fi(n)}convertGeoPoint(t){return new hi(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=hh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const n=zr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);jt(XT(s),9688,{name:t});const l=new Pl(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return l.isEqual(n)||Qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Os extends C0{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ip("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:ve("string",Os._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class kc extends Os{data(t={}){return super.data(t)}}class Ha{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new kc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:x2(p.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:ve("string",Ha._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class N0 extends M2{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function k2(r){return O0(qa(r.firestore,Ll),[new Um(r._key,ui.none())])}function U2(r,t){const n=qa(r.firestore,Ll),s=v0(r),l=P2(r.converter,t);return O0(n,[S2(S0(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then((()=>s))}function L2(r,...t){r=je(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||eE(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eE(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof we)d=qa(r.firestore,Ll),p=xm(r._key.path),c={next:g=>{t[s]&&t[s](z2(d,r,g))},error:t[s+1],complete:t[s+2]};else{const g=qa(r,ro);d=qa(g.firestore,Ll),p=g._query;const _=new N0(d);c={next:A=>{t[s]&&t[s](new Ha(d,_,g,A))},error:t[s+1],complete:t[s+2]},D2(r._query)}return(function(_,A,I,N){const H=new d2(N),j=new YC(A,H,I);return _.asyncQueue.enqueueAndForget((async()=>GC(await Kv(_),j))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>FC(await Kv(_),j)))}})(E0(d),p,l,c)}function O0(r,t){return(function(s,l){const c=new Ns;return s.asyncQueue.enqueueAndForget((async()=>r2(await g2(s),l,c))),c.promise})(E0(r),t)}function z2(r,t,n){const s=n.docs.get(t._key),l=new N0(r);return new Os(r,l,t._key,s,new Al(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){to=l})(Wa),Ga(new Ms("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ll(new AR(s.getProvider("auth-internal")),new wR(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),xr(iv,rv,t),xr(iv,rv,"esm2020")})();const B2={apiKey:"AIzaSyBq6wADijXkVUOqw44Pv5BKN0xJ9BtS11Q",authDomain:"d-day-app.firebaseapp.com",projectId:"d-day-app",storageBucket:"d-day-app.appspot.com",messagingSenderId:"39953405485",appId:"1:39953405485:web:3e655af75dcde652ce8aa4",measurementId:"G-2YY6MSFZZJ"},V0=yE(B2),Cr=_R(V0),jd=_2(V0);function q2({handleLogin:r,handleGoogleLogin:t,handleSignup:n,handleResetPassword:s,onBackToStart:l}){const[c,d]=pn.useState("login"),[p,g]=pn.useState(""),[_,A]=pn.useState(""),I=tt.jsxs("div",{id:"login-view",children:[tt.jsx("button",{onClick:l,style:{position:"relative",top:"0px",left:"145px",background:"none",border:"none",fontSize:"1em",cursor:"pointer"},children:"Home"}),tt.jsx("h2",{children:"로그인"}),tt.jsxs("div",{className:"auth-form",children:[tt.jsx("input",{type:"email",placeholder:"이메일",value:p,onChange:j=>g(j.target.value)}),tt.jsx("input",{type:"password",placeholder:"비밀번호",value:_,onChange:j=>A(j.target.value)}),tt.jsx("button",{id:"login-button",onClick:()=>r(p,_),children:"로그인"}),tt.jsx("button",{id:"google-login-button",onClick:t,children:"구글 계정으로 로그인"}),tt.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"5px 0"}}),tt.jsx("button",{className:"auth-link",onClick:()=>d("signup"),children:"계정이 없으신가요? 회원가입"}),tt.jsx("button",{className:"auth-link",onClick:()=>d("reset"),children:"비밀번호를 잊으셨나요?"})]})]}),N=tt.jsxs("div",{id:"signup-view",children:[tt.jsx("h2",{children:"회원가입"}),tt.jsxs("div",{className:"auth-form",children:[tt.jsx("input",{type:"email",placeholder:"이메일",value:p,onChange:j=>g(j.target.value)}),tt.jsx("input",{type:"password",placeholder:"비밀번호 (6자리 이상)",value:_,onChange:j=>A(j.target.value)}),tt.jsx("button",{id:"signup-button",onClick:()=>n(p,_),children:"이메일로 회원가입"}),tt.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"5px 0"}}),tt.jsx("button",{className:"auth-link",onClick:()=>d("login"),children:"이미 계정이 있으신가요? 로그인"})]})]}),H=tt.jsxs("div",{id:"reset-view",children:[tt.jsx("h2",{children:"비밀번호 재설정"}),tt.jsxs("div",{className:"auth-form",children:[tt.jsx("p",{children:"가입하신 이메일 주소를 입력하시면 재설정 링크를 보내드립니다."}),tt.jsx("input",{type:"email",placeholder:"이메일",value:p,onChange:j=>g(j.target.value)}),tt.jsx("button",{id:"reset-password-button",onClick:()=>s(p),children:"재설정 링크 발송"}),tt.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"5px 0"}}),tt.jsx("button",{className:"auth-link",onClick:()=>d("login"),children:"로그인 화면으로 돌아가기"})]})]});return tt.jsxs("div",{id:"auth-section",children:[c==="login"&&I,c==="signup"&&N,c==="reset"&&H]})}function j2({user:r,handleLogout:t,showAlert:n}){const[s,l]=pn.useState([]),[c,d]=pn.useState(""),[p,g]=pn.useState(""),[_,A]=pn.useState(!1);pn.useEffect(()=>{if(r&&r.mode==="local"){const K=JSON.parse(localStorage.getItem("localDdays"))||[];l(K);return}if(!r)return;const j=O2(Zv(jd,"ddays"),V2("userId","==",r.uid)),J=L2(j,K=>{const ot=K.docs.map(rt=>({id:rt.id,...rt.data()}));l(ot)});return()=>J()},[r]);const I=j=>{localStorage.setItem("localDdays",JSON.stringify(j))},N=async()=>{if(!c||!p){n("추가 실패","제목과 날짜를 입력해주세요.");return}try{if(r.mode==="local"){const j={id:Date.now(),title:c,date:p},J=[...s,j];l(J),I(J),n("성공","새로운 D-Day가 추가되었습니다.")}else await U2(Zv(jd,"ddays"),{title:c,date:p,userId:r.uid,createdAt:new Date}),n("성공","새로운 D-Day가 추가되었습니다.");d(""),g("")}catch(j){console.error("Add D-Day Error:",j),n("추가 실패","D-Day를 추가하는 중 오류가 발생했습니다.")}},H=async j=>{try{if(r.mode==="local"){const J=s.filter(K=>K.id!==j);l(J),I(J),n("성공","D-Day가 삭제되었습니다.")}else await k2(v0(jd,"ddays",j)),n("성공","D-Day가 삭제되었습니다.")}catch(J){console.error("Delete D-Day Error:",J),n("삭제 실패","D-Day를 삭제하는 중 오류가 발생했습니다.")}};return tt.jsxs("div",{id:"app-section",children:[tt.jsxs("div",{className:"app-header",children:[tt.jsxs("span",{className:"user-info",children:["환영합니다, ",r.email]}),tt.jsx("button",{id:"logout-button",onClick:t,children:"로그아웃"})]}),tt.jsx("h1",{children:"D-Day 목록"}),tt.jsx("button",{id:"toggle-edit-button",onClick:()=>A(!_),children:_?"완료":"편집"}),_&&tt.jsxs("div",{id:"edit-panel",children:[tt.jsx("input",{type:"text",placeholder:"이벤트 이름",value:c,onChange:j=>d(j.target.value)}),tt.jsx("input",{type:"date",value:p,onChange:j=>g(j.target.value)}),tt.jsx("button",{id:"add-button",onClick:N,children:"추가하기"})]}),tt.jsx("ul",{id:"dday-list",children:s.map(j=>{const J=new Date(j.date),K=new Date,ot=J-K;let rt=null;if(ot<0){const ct=Math.floor(Math.abs(ot)/864e5);let Vt=K.getFullYear()-J.getFullYear(),_t=K.getMonth()-J.getMonth(),Mt=K.getDate()-J.getDate();if(Mt<0){_t--;const V=new Date(K.getFullYear(),K.getMonth(),0).getDate();Mt+=V}_t<0&&(Vt--,_t+=12),rt=tt.jsxs(tt.Fragment,{children:[tt.jsxs("div",{className:"dday-result",children:["D+",ct]}),tt.jsxs("div",{className:"dday-elapsed",children:[Vt,"년 ",_t,"개월 ",Mt,"일 지남"]})]})}else{const ct=Math.ceil(ot/864e5);let Vt=`D-${ct}`;ct===0&&(Vt="D-Day!"),rt=tt.jsx("div",{className:"dday-result",children:Vt})}return tt.jsxs("li",{className:"dday-item",children:[tt.jsxs("div",{className:"dday-info",children:[tt.jsx("div",{className:"dday-title",children:j.title}),tt.jsx("div",{className:"dday-date",children:j.date}),rt]}),_&&tt.jsx("button",{className:"delete-button",onClick:()=>H(j.id),children:"×"})]},j.id)})})]})}function M0(){return tt.jsxs("footer",{children:[tt.jsxs("p",{children:[tt.jsx("a",{href:"/privacy.html",target:"_blank",className:"footer-link",children:"개인정보 처리방침"})," |",tt.jsx("a",{href:"/terms.html",target:"_blank",className:"footer-link",children:"서비스 이용약관"})]}),tt.jsxs("p",{children:["Contact: ",tt.jsx("a",{href:"mailto:1538iron@gmail.com",children:"1538iron@gmail.com"})]}),tt.jsx("p",{children:"Copyright © 2025 IronCPA. All Rights Reserved."})]})}function rE(){return tt.jsx("div",{className:"loader",children:tt.jsx("div",{className:"spinner"})})}function sE({onNavigate:r}){return tt.jsxs("div",{children:[tt.jsx("h1",{className:"main-title",children:"D-Day App"}),tt.jsx("p",{style:{marginTop:"-20px",marginBottom:"40px"},children:"편리하고 안전한 D-Day App 서비스를 평생 무료로 제공해드립니다."}),tt.jsxs("div",{className:"auth-form",children:[tt.jsx("button",{onClick:()=>r("local"),style:{backgroundColor:"#0B3040"},children:"바로 시작하기"}),tt.jsx("button",{onClick:()=>r("login"),style:{backgroundColor:"#104861"},children:"로그인하여 시작하기"})]}),tt.jsxs("p",{style:{fontSize:"0.8em",color:"#888",marginTop:"20px",lineHeight:"1.5"},children:[tt.jsx("strong",{children:"바로 시작하기"}),": 데이터가 현재 기기(브라우저)에만 저장됩니다.",tt.jsx("br",{}),tt.jsx("strong",{children:"로그인하여 시작하기"}),": 데이터가 Google Firebase DB에 안전하게 보관됩니다."]}),tt.jsx(M0,{})]})}function H2({isVisible:r,title:t,message:n,onClose:s}){return r?tt.jsx("div",{style:gl.overlay,children:tt.jsxs("div",{style:gl.modal,children:[tt.jsx("h3",{style:gl.title,children:t}),tt.jsx("p",{style:gl.message,children:n}),tt.jsx("button",{style:gl.button,onClick:s,children:"확인"})]})}):null}const gl={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"white",padding:"20px 30px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",width:"80%",maxWidth:"400px",textAlign:"center"},title:{marginTop:0,color:"#2c3e50"},message:{color:"#555",marginBottom:"25px"},button:{padding:"10px 25px",border:"none",borderRadius:"8px",backgroundColor:"#0B3040",color:"white",fontWeight:"bold",fontSize:"16px",cursor:"pointer"}};function G2(){const[r,t]=pn.useState(null),[n,s]=pn.useState("loading"),[l,c]=pn.useState({isVisible:!1,title:"",message:""}),d=(K,ot)=>{c({isVisible:!0,title:K,message:ot})},p=()=>{c({isVisible:!1,title:"",message:""})};pn.useEffect(()=>{const K=ow(Cr,ot=>{ot?(t(ot),s("app")):r&&r.mode!=="local"?(t(null),s("start")):r||s("start")});return()=>K()},[r]);const g=async(K,ot)=>{try{(await iw(Cr,K,ot)).user.emailVerified||(await xd(Cr),d("인증 필요","이메일 인증이 완료되지 않았습니다. 메일함을 확인해주세요."))}catch(rt){console.error("Login Error:",rt.code,rt.message),rt.code==="auth/network-request-failed"?d("로그인 실패","인터넷 연결을 확인해주세요."):d("로그인 실패","이메일 또는 비밀번호를 확인해주세요.")}},_=async()=>{const K=new Bi;try{await Iw(Cr,K)}catch(ot){console.error("Google Login Error:",ot.code,ot.message),ot.code!=="auth/popup-closed-by-user"&&d("구글 로그인 실패","팝업이 차단되었거나 오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}},A=async(K,ot)=>{try{const rt=await nw(Cr,K,ot);await rw(rt.user),d("회원가입 성공","인증 메일을 보냈습니다. 확인 후 로그인해주세요."),await xd(Cr)}catch(rt){console.error("Signup Error:",rt.code,rt.message),rt.code==="auth/email-already-in-use"?d("회원가입 실패","이미 사용 중인 이메일입니다."):rt.code==="auth/weak-password"?d("회원가입 실패","비밀번호는 6자리 이상으로 설정해주세요."):rt.code==="auth/missing-password"?d("회원가입 실패","패스워드를 입력해주세요"):rt.code==="auth/invalid-email"?d("회원가입 실패","유효하지 않은 이메일주소입니다."):d("회원가입 실패","오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}},I=async K=>{if(!K){d("입력 오류","이메일 주소를 입력해주세요.");return}try{await ew(Cr,K),d("전송 완료","비밀번호 재설정 링크를 보냈습니다.")}catch(ot){console.error("Password Reset Error:",ot.code,ot.message),ot.code==="auth/invalid-email"?d("전송 실패","가입되지 않은 이메일 주소입니다."):d("전송 실패","오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}},N=async()=>{r&&r.mode==="local"?t(null):await xd(Cr),s("start")},H=K=>{K==="login"?s("auth"):K==="local"&&(t({mode:"local",uid:"localUser",email:"로컬 사용자님"}),s("app"))},j=()=>{s("start")},J=()=>{switch(n){case"loading":return tt.jsx(rE,{});case"start":return tt.jsx(sE,{onNavigate:H});case"auth":return tt.jsxs(tt.Fragment,{children:[tt.jsx(q2,{onBackToStart:j,handleLogin:g,handleGoogleLogin:_,handleSignup:A,handleResetPassword:I}),tt.jsx(M0,{})]});case"app":return r?tt.jsx(j2,{user:r,handleLogout:N,showAlert:d}):tt.jsx(rE,{});default:return tt.jsx(sE,{onNavigate:H})}};return tt.jsxs("div",{className:"container",children:[J(),tt.jsx(H2,{isVisible:l.isVisible,title:l.title,message:l.message,onClose:p})]})}pS.createRoot(document.getElementById("root")).render(tt.jsx(oS.StrictMode,{children:tt.jsx(G2,{})}));
